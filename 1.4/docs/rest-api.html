<!DOCTYPE html>
<html lang="en">
  <head>
    
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Marathon: REST API</title>
    <link rel="icon" type="image/x-icon" href="/marathon/1.4/img/marathon-favicon.ico">
    <link href="//cdn.jsdelivr.net/bootstrap/3.2.0/css/bootstrap.min.css" rel="stylesheet">
    <link href="/marathon/1.4/css/style.css" rel="stylesheet">
    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-45222428-4', 'auto');
      ga('send', 'pageview');

    </script>
  </head>
  <body>
    <div class="container">
      <div class="row">
        <div class="col-sm-10 col-sm-offset-1">
          <div class="navbar navbar-default navbar-inverse" role="navigation">
            <div class="container-fluid">
              <div class="navbar-header">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar-collapse">
                  <span class="sr-only">Toggle navigation</span>
                  <span class="icon-bar"></span>
                  <span class="icon-bar"></span>
                  <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href="/marathon">Marathon</a>
              </div>
              <div class="collapse navbar-collapse" id="navbar-collapse">
                <ul class="nav navbar-nav">
                  <li class="active">
                    <a href="/marathon/1.4/docs/">Docs</a>
                  </li>
                  <li >
                    <a href="/marathon/1.4/support.html">Support</a>
                  </li>
                </ul>
                <ul class="nav navbar-nav navbar-right">
                  <li><a href="https://github.com/mesosphere/marathon">GitHub</a></li>
                </ul>
                <div class="grid" id="searchBar">
                  <div id="search">
                    <form role="search" method="get" action="/marathon/1.4/search/">
                      <input id="searchString" name="searchString"
                             placeholder="Search Marathon Docs" type="text">
                      <input id="searchButton" name="googleSearchName" type="submit" value="Search">
                    </form>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="row">
    <div class="col-sm-3">

        <h5>Getting Started</h5>
        <ul class="list-unstyled">
            <li>
                <a href="/marathon/1.4/docs/">
                    Install Marathon
                </a>
            </li>
            <li>
                <a href="/marathon/1.4/docs/setup.html">
                    Setup Recommendations
                </a>
            </li>
            <li>
                <a href="/marathon/1.4/docs/high-availability.html">
                    High Availability Mode
                </a>
            </li>
        </ul>

        <h5>Using Marathon</h5>
        <ul class="list-unstyled">
            <li>
                <a href="/marathon/1.4/docs/application-basics.html">
                    Application Basics
                </a>
            </li>
            <li>
                <a href="/marathon/1.4/docs/deployments.html">
                    Application Deployments
                </a>
            </li>
            <li>
                <a href="/marathon/1.4/docs/application-groups.html">
                    Application Groups
                </a>
            </li>
            <li>
                <a href="/marathon/1.4/docs/artifact-store.html">
                    Artifact Store
                </a>
            </li>
            <li>
                <a href="/marathon/1.4/docs/auth-access-ctrl.html">
                    Authorization and Access Control
                </a>
            </li>
            <li>
                <a href="/marathon/1.4/docs/blue-green-deploy.html">
                    Blue-Green Deployment
                </a>
            </li>
            <li>
                <a href="/marathon/1.4/docs/constraints.html">
                    Constraints
                </a>
            </li>
            <li>
                <a href="/marathon/1.4/docs/event-bus.html">
                    Event Bus
                </a>
            </li>
            <li>
                <a href="/marathon/1.4/docs/health-checks.html">
                    Health Checks
                </a>
            </li>
            <li>
                <a href="/marathon/1.4/docs/ip-per-task.html">
                    IP-per-task
                </a>
            </li>
            <li>
                <a href="/marathon/1.4/docs/marathon-ui.html">
                    Marathon Web Interface
                </a>
            </li>

            </li>
            <li>
                <a href="/marathon/1.4/docs/pods.html">
                    Pods
                </a>
            </li>
            <li>
                <a href="/marathon/1.4/docs/ports.html">
                    Ports
                </a>
            </li>
            <li>
                <a href="/marathon/1.4/docs/recipes.html">
                    Recipes
                </a>
            </li>
            <li>
                <a href="/marathon/1.4/docs/native-docker.html">
                    Running Docker Containers
                </a>
            </li>
            <li>
                <a href="/marathon/1.4/docs/persistent-volumes.html">
                    Stateful Applications Using Local Persistent Volumes
                </a>
            </li>
            <li>
                <a href="/marathon/1.4/docs/external-volumes.html">
                    Stateful Applications Using External Persistent Volumes
                </a>
            </li>
            <li>
                <a href="/marathon/1.4/docs/task-environment-vars.html">
                    Task Environment Variables
                </a>
            </li>
            <li>
                <a href="/marathon/1.4/docs/task-handling.html">
                    Task Handling
                </a>
            </li>
            <li>
                <a href="/marathon/1.4/docs/configure-task-handling.html">
                    Task Handling Configuration
                </a>
            </li>
        </ul>

        <h5>Administration</h5>
        <ul class="list-unstyled">
            <li>
                <a href="/marathon/1.4/docs/command-line-flags.html">
                    Command Line Flags
                </a>
            </li>
            <li>
                <a href="/marathon/1.4/docs/framework-authentication.html">
                    Framework Authentication
                </a>
            </li>
            <li>
                <a href="/marathon/1.4/docs/high-availability.html">
                    High Availability
                </a>
            </li>
            <li>
                <a href="/marathon/1.4/docs/metrics.html">
                    Metrics
                </a>
            </li>
            <li>
                <a href="/marathon/1.4/docs/readiness-checks.html">
                    Readiness Checks
                </a>
            </li>
            <li>
                <a href="/marathon/1.4/docs/service-discovery-load-balancing.html">
                    Service Discovery and Load Balancing
                </a>
            </li>
            <li>
                <a href="/marathon/1.4/docs/ssl-basic-access-authentication.html">
                    SSL and Basic Authentication
                </a>
            </li>
            <li>
                <a href="/marathon/1.4/docs/upgrade/index.html">
                    Upgrading
                </a>
            </li>
            <li>
                <a href="/marathon/1.4/docs/upgrade/06xto070.html">
                    Upgrading from 0.6.x
                </a>
            </li>
            <li>
                <a href="/marathon/1.4/docs/native-docker-private-registry.html">
                    Using a Private Docker Registry
                </a>
            </li>
            <li>
                <a href="/marathon/1.4/docs/upgrade/versioning.html">
                    Versioning
                </a>
            </li>
        </ul>

        <h5>Troubleshooting</h5>
        <ul class="list-unstyled">
            <li>
                <a href="/marathon/1.4/docs/waiting.html">
                    An App Does Not Leave "Waiting"
                </a>
            </li>
            <li>
                <a href="/marathon/1.4/docs/host-port.html">
                    An App Requires a Specific Host Port
                </a>
            </li>
            <li>
                <a href="/marathon/1.4/docs/local-cert.html">
                    Error Using HTTPS with local CA Certificate
                </a>
            </li>
            <li>
                <a href="/marathon/1.4/docs/auth-secret.html">
                    Error Reading Authentication Secret
                </a>
            </li>
        </ul>

        <h5>Development</h5>
        <ul class="list-unstyled">
            <li>
                <a href="/marathon/1.4/docs/contributing.html">
                    Contributor Guidelines
                </a>
            </li>
            <li>
                <a href="/marathon/1.4/docs/core-architecture.html">
                    Current Marathon Development
                </a>
            </li>
            <li>
                <a href="/marathon/1.4/docs/plugin.html">
                    Extend Marathon with Plugins
                </a>
            </li>
            <li>
                <a href="/marathon/1.4/docs/developing-vm.html">
                    Run a Local Version of Marathon
                </a>
            </li>
        </ul>

        <h5>API Reference</h5>
        <ul class="list-unstyled">
        <li>
            <a href="/marathon/1.4/api-console/index.html">REST API Reference</a>
        </li>

        <li><a href="/marathon/1.4/docs/rest-api.html">REST API Reference (deprecated)</a></li>

        </ul>
        <h5>Docs for Previous Versions</h5>
        <ul class="list-unstyled">
            <li><a href="/marathon/1.5/docs">Version 1.5.x</a></li>
            <li><a href="/marathon/1.4/docs">Version 1.4.x</a></li>
            <li><a href="/marathon/1.3/docs">Version 1.3.x</a></li>
        </ul>
    </div>

    <div class="col-sm-9">
        <h1 id="marathon-rest-api">Marathon REST API</h1>

<ul>
  <li><a href="#user-content-apps">Apps</a>
    <ul>
      <li><a href="#user-content-post-v2apps">POST /v2/apps</a>: Create and start a new app</li>
      <li><a href="#user-content-get-v2apps">GET /v2/apps</a>: List all running apps</li>
      <li><a href="#user-content-get-v2appsappidembedembed">GET /v2/apps/{appId}</a>: List the app <code class="highlighter-rouge">appId</code></li>
      <li><a href="#user-content-get-v2appsappidversions">GET /v2/apps/{appId}/versions</a>: List the versions of the application with ID <code class="highlighter-rouge">appId</code></li>
      <li><a href="#user-content-get-v2appsappidversionsversion">GET /v2/apps/{appId}/versions/{version}</a>: List the configuration of the application with ID <code class="highlighter-rouge">appId</code> at version <code class="highlighter-rouge">version</code></li>
      <li><a href="#user-content-put-v2appsappid">PUT /v2/apps/{appId}</a>: Update or create an app with ID <code class="highlighter-rouge">appId</code></li>
      <li><a href="#user-content-post-v2appsappidrestart">POST /v2/apps/{appId}/restart</a>: Rolling restart of all tasks of the given app</li>
      <li><a href="#user-content-delete-v2appsappid">DELETE /v2/apps/{appId}</a>: Destroy app <code class="highlighter-rouge">appId</code></li>
      <li><a href="#user-content-get-v2appsappidtasks">GET /v2/apps/{appId}/tasks</a>: List running tasks for app <code class="highlighter-rouge">appId</code></li>
      <li><a href="#user-content-delete-v2appsappidtasks">DELETE /v2/apps/{appId}/tasks</a>: Kill tasks belonging to app <code class="highlighter-rouge">appId</code></li>
      <li><a href="#user-content-delete-v2appsappidtaskstaskid">DELETE /v2/apps/{appId}/tasks/{taskId}</a>: Kill the task <code class="highlighter-rouge">taskId</code> that belongs to the application <code class="highlighter-rouge">appId</code></li>
    </ul>
  </li>
  <li><a href="#user-content-groups">Groups</a> <span class="label labeldefault">v0.7.0</span>
    <ul>
      <li><a href="#user-content-get-v2groups">GET /v2/groups</a>: List all groups</li>
      <li><a href="#user-content-get-v2groupsgroupid">GET /v2/groups/{groupId}</a>: List the group with the specified ID</li>
      <li><a href="#user-content-post-v2groups">POST /v2/groups</a>: Create and start a new group</li>
      <li><a href="#user-content-put-v2groupsgroupid">PUT /v2/groups/{groupId}</a>: Change parameters of a deployed application group</li>
      <li><a href="#user-content-delete-v2groupsgroupid">DELETE /v2/groups/{groupId}</a>: Destroy a group</li>
    </ul>
  </li>
  <li><a href="#user-content-tasks">Tasks</a>
    <ul>
      <li><a href="#user-content-get-v2tasks">GET /v2/tasks</a>: List all running tasks</li>
      <li><a href="#user-content-post-v2tasksdelete">POST /v2/tasks/delete</a>: Kill given list of tasks</li>
    </ul>
  </li>
  <li><a href="#user-content-deployments">Deployments</a> <span class="label labeldefault">v0.7.0</span>
    <ul>
      <li><a href="#user-content-get-v2deployments">GET /v2/deployments</a>: List running deployments</li>
      <li><a href="#user-content-delete-v2deploymentsdeploymentid">DELETE /v2/deployments/{deploymentId}</a>: Revert or cancel the deployment with <code class="highlighter-rouge">deploymentId</code></li>
    </ul>
  </li>
  <li><a href="#user-content-event-stream">Event Stream</a> <span class="label labeldefault">v0.9.0</span>
    <ul>
      <li><a href="#user-content-get-v2events">GET /v2/events</a>: Attach to the event stream</li>
    </ul>
  </li>
  <li><a href="#user-content-event-subscriptions">Event Subscriptions</a>
    <ul>
      <li><a href="#user-content-post-v2eventsubscriptions">POST /v2/eventSubscriptions</a>: Register a callback URL as an event subscriber</li>
      <li><a href="#user-content-get-v2eventsubscriptions">GET /v2/eventSubscriptions</a>: List all event subscriber callback URLs</li>
      <li><a href="#user-content-delete-v2eventsubscriptions">DELETE /v2/eventSubscriptions</a> Unregister a callback URL from the event subscribers list</li>
    </ul>
  </li>
  <li><a href="#user-content-queue">Queue</a> <span class="label labeldefault">v0.7.0</span>
    <ul>
      <li><a href="#user-content-get-v2queue">GET /v2/queue</a>: List content of the staging queue</li>
      <li><a href="#user-content-delete-v2queueappiddelay">DELETE /v2/queue/{appId}/delay</a>: <span class="label labeldefault">v0.10.0</span> Reset the application-specific task launch delay</li>
    </ul>
  </li>
  <li><a href="#user-content-server-info">Server Info</a> <span class="label labeldefault">v0.7.0</span>
    <ul>
      <li><a href="#user-content-get-v2info">GET /v2/info</a>: Get info about the Marathon instance</li>
      <li><a href="#user-content-get-v2leader">GET /v2/leader</a>: Get the current leader</li>
      <li><a href="#user-content-delete-v2leader">DELETE /v2/leader</a>: Causes the current leader to abdicate, triggering a new election</li>
    </ul>
  </li>
  <li><a href="#user-content-miscellaneous">Miscellaneous</a>
    <ul>
      <li><a href="#user-content-get-ping">GET /ping</a></li>
      <li><a href="#user-content-get-logging">GET /logging</a></li>
      <li><a href="#user-content-get-help">GET /help</a></li>
      <li><a href="#user-content-get-metrics">GET /metrics</a></li>
    </ul>
  </li>
</ul>

<h3 id="apps">Apps</h3>

<h5 id="post-v2apps">POST <code class="highlighter-rouge">/v2/apps</code></h5>

<p>Create and start a new application.</p>

<p>Here is an example of an application JSON which includes all fields.</p>

<pre><code class="language-JavaScript">{
    "id": "/product/service/my-app",
    "cmd": "env &amp;&amp; sleep 300",
    "cpus": 1.5,
    "mem": 256.0,
    "portDefinitions": [
        { "port": 8080, "protocol": "tcp", "name": "http", "labels": { "VIP_0": "10.0.0.1:80" } },
        { "port": 9000, "protocol": "tcp", "name": "admin" }
    ],
    "requirePorts": false,
    "instances": 3,
    "executor": "",
    "container": {
        "type": "DOCKER",
        "docker": {
            "image": "group/image",
            "network": "BRIDGE",
            "portMappings": [
                {
                    "containerPort": 8080,
                    "hostPort": 0,
                    "servicePort": 9000,
                    "protocol": "tcp"
                },
                {
                    "containerPort": 161,
                    "hostPort": 0,
                    "protocol": "udp"
                }
            ],
            "privileged": false,
            "parameters": [
                { "key": "a-docker-option", "value": "xxx" },
                { "key": "b-docker-option", "value": "yyy" }
            ]
        },
        "volumes": [
            {
                "containerPath": "/etc/a",
                "hostPath": "/var/data/a",
                "mode": "RO"
            },
            {
                "containerPath": "/etc/b",
                "hostPath": "/var/data/b",
                "mode": "RW"
            }
        ]
    },
    "env": {
        "LD_LIBRARY_PATH": "/usr/local/lib/myLib"
    },
    "constraints": [
        ["attribute", "OPERATOR", "value"]
    ],
    "acceptedResourceRoles": [ /* since 0.9.0 */
        "role1", "*"
    ],
    "labels": {
        "environment": "staging"
    },
    "fetch": [
        { "uri": "https://raw.github.com/mesosphere/marathon/master/README.md" },
        { "uri": "https://foo.com/archive.zip", "executable": false, "extract": true, "cache": true }
    ],
    "dependencies": ["/product/db/mongo", "/product/db", "../../db"],
    "healthChecks": [
        {
            "protocol": "HTTP",
            "path": "/health",
            "gracePeriodSeconds": 3,
            "intervalSeconds": 10,
            "portIndex": 0,
            "timeoutSeconds": 10,
            "maxConsecutiveFailures": 3
        },
        {
            "protocol": "HTTPS",
            "path": "/machinehealth",
            "gracePeriodSeconds": 3,
            "intervalSeconds": 10,
            "port": 3333,
            "timeoutSeconds": 10,
            "maxConsecutiveFailures": 3
        },
        {
            "protocol": "TCP",
            "gracePeriodSeconds": 3,
            "intervalSeconds": 5,
            "portIndex": 1,
            "timeoutSeconds": 5,
            "maxConsecutiveFailures": 3
        },
        {
            "protocol": "COMMAND",
            "command": { "value": "curl -f -X GET http://$HOST:$PORT0/health" },
            "maxConsecutiveFailures": 3
        }
    ],
    "backoffSeconds": 1,
    "backoffFactor": 1.15,
    "maxLaunchDelaySeconds": 3600,
    "taskKillGracePeriodSeconds": 2,
    "upgradeStrategy": {
        "minimumHealthCapacity": 0.5,
        "maximumOverCapacity": 0.2
    },
    "ipAddress": {
        "groups": [
            "backend"
        ],
        "labels": {
            "color":   "purple",
            "flavor":  "grape",
            "org":     "product",
            "service": "myApp",
            "tier":    "backend"
        },
        "networkName": "dev-network"
    }
}
</code></pre>

<h5 id="id-string">id (String)</h5>

<p>Unique identifier for the app consisting of a series of names separated by slashes.
Each name must be at least 1 character and may
only contain digits (<code class="highlighter-rouge">0-9</code>), dashes (<code class="highlighter-rouge">-</code>), dots (<code class="highlighter-rouge">.</code>), and lowercase letters
(<code class="highlighter-rouge">a-z</code>). The name may not begin or end with a dash.</p>

<p>The allowable format is represented by the following regular expression
<code class="highlighter-rouge">^(([a-z0-9]|[a-z0-9][a-z0-9\\-]*[a-z0-9])\\.)*([a-z0-9]|[a-z0-9][a-z0-9\\-]*[a-z0-9])$</code></p>

<h5 id="cmd-string">cmd (String)</h5>

<p>The command that is executed.  This value is wrapped by Mesos via <code class="highlighter-rouge">/bin/sh -c ${app.cmd}</code>.  Either <code class="highlighter-rouge">cmd</code> or <code class="highlighter-rouge">args</code> must be supplied. It is invalid to supply both <code class="highlighter-rouge">cmd</code> and <code class="highlighter-rouge">args</code> in the same app.</p>

<h5 id="args-array-of-strings">args (Array of Strings)</h5>

<p>An array of strings that represents an alternative mode of specifying the command to run. This was motivated by safe usage of containerizer features like a custom Docker ENTRYPOINT. This args field may be used in place of cmd even when using the default command executor. This change mirrors API and semantics changes in the Mesos CommandInfo protobuf message starting with version <code class="highlighter-rouge">0.20.0</code>.  Either <code class="highlighter-rouge">cmd</code> or <code class="highlighter-rouge">args</code> must be supplied. It is invalid to supply both <code class="highlighter-rouge">cmd</code> and <code class="highlighter-rouge">args</code> in the same app.</p>

<h5 id="cpus-float">cpus (Float)</h5>

<p>The number of CPU`s this application needs per instance. This number does not have to be integer, but can be a fraction.</p>

<h5 id="mem-float">mem (Float)</h5>

<p>The amount of memory in MB that is needed for the application per instance.</p>

<h5 id="ports-array-of-integers">ports (Array of Integers)</h5>
<p>Since <span class="label label-default">v1.0.0</span>: <strong>Deprecated</strong> . Use portDefinitions instead.</p>

<p>An array of required port resources on the host.</p>

<p>The port array currently serves multiple roles:</p>

<ul>
  <li>The number of items in the array determines how many dynamic ports are allocated
for every task.</li>
  <li>For every port that is zero, a globally unique (cluster-wide) port is assigned and
provided as part of the app definition to be used in load balancing definitions.
See <a href="/marathon/1.4/docs/service-discovery-load-balancing.html">Service Discovery Load Balancing doc page</a>
for details.</li>
</ul>

<p>Since this is confusing, we recommend to configure ports assignment for Docker
containers for <code class="highlighter-rouge">BRIDGE</code> and <code class="highlighter-rouge">USER</code> networking in <code class="highlighter-rouge">container.docker.portMappings</code> instead, see
<a href="/marathon/1.4/docs/native-docker.html#bridged-networking-mode">Docker Containers doc page</a>).</p>

<p>Alternatively or if you use the Mesos Containerizer, pass zeros as port values to generate one or more arbitrary
free ports for each application instance.
Each port value is exposed to the instance via environment variables
<code class="highlighter-rouge">$PORT0</code>, <code class="highlighter-rouge">$PORT1</code>, etc. Ports assigned to running instances are also available
via the task resource.</p>

<p>We will probably provide an alternative way to configure this for non-Docker apps in the future
as well, see <a href="https://github.com/mesosphere/marathon/issues/670">Rethink ports API</a>.</p>

<h5 id="portsdefinitions-array-of-objects">portsDefinitions (Array of Objects)</h5>

<p>Since <span class="label label-default">v1.0.0</span>:</p>

<p>An array of required port resources on the host.</p>

<p>The portDefinitions array currently serves multiple roles:</p>

<ul>
  <li>The number of items in the array determines how many dynamic ports are allocated
for every task.</li>
  <li>For every port that is zero, a globally unique (cluster-wide) port is assigned and
provided as part of the app definition to be used in load balancing definitions.
See <a href="/marathon/1.4/docs/service-discovery-load-balancing.html">Service Discovery Load Balancing doc page</a>
for details.</li>
</ul>

<p>Since this is confusing, we recommend to configure ports assignment for Docker containers for <code class="highlighter-rouge">BRIDGE</code> and <code class="highlighter-rouge">USER</code> networking in
<code class="highlighter-rouge">container.docker.portMappings</code> instead, see <a href="/marathon/1.4/docs/native-docker.html#bridged-networking-mode">Docker Containers doc page</a>).</p>

<p>Alternatively or if you use the Mesos Containerizer, pass zeros as port values to generate one or more arbitrary
free ports for each application instance.</p>

<p>Each port value is exposed to the instance via environment variables <code class="highlighter-rouge">$PORT0</code>, <code class="highlighter-rouge">$PORT1</code>, etc. Ports assigned to running
instances are also available via the task resource.</p>

<p>We will probably provide an alternative way to configure this for non-Docker apps in the future
as well, see <a href="https://github.com/mesosphere/marathon/issues/670">Rethink ports API</a>.</p>

<h5 id="requireports-boolean">requirePorts (Boolean)</h5>

<p>Normally, the host ports of your tasks are automatically assigned. This corresponds to the
<code class="highlighter-rouge">requirePorts</code> value <code class="highlighter-rouge">false</code> which is the default.</p>

<p>If you need more control and want to specify your host ports in advance, you can set <code class="highlighter-rouge">requirePorts</code> to <code class="highlighter-rouge">true</code>. This way
the ports you have specified are used as host ports. That also means that Marathon can schedule the associated tasks
only on hosts that have the specified ports available.</p>

<h5 id="instances-integer">instances (Integer)</h5>

<p>The number of instances of this application to start. Please note: this number can be changed everytime as needed to scale the application.</p>

<h5 id="executor-string">executor (String)</h5>

<p>The executor to use to launch this application. Different executors are available. The simplest one (and the default if none is given) is //cmd, which takes the cmd and executes that on the shell level.</p>

<h5 id="container-object">container (Object)</h5>

<p>Additional data passed to the containerizer on application launch.  These
consist of a type, zero or more volumes, and additional type-specific options.
Volumes and type are optional (the default type is DOCKER).  In order to make
use of the docker containerizer, specify <code class="highlighter-rouge">--containerizers=docker,mesos</code> to
the Mesos slave.  For a discussion of docker-specific options, see the
<a href="/marathon/1.4/docs/native-docker.html">native docker document</a>.</p>

<h5 id="env-object-with-string-values">env (Object with String values)</h5>

<p>Key value pairs that get added to the environment variables of the process to start.</p>

<h5 id="constraints">constraints</h5>

<p>Valid constraint operators are one of [“UNIQUE”, “CLUSTER”,
“GROUP_BY”]. For additional information on using placement constraints see
the <a href="/marathon/1.4/docs/constraints.html">Constraints doc page</a>.</p>

<h5 id="acceptedresourceroles-span-classlabel-label-defaultv090span">acceptedResourceRoles <span class="label label-default">v0.9.0</span></h5>

<p>Optional. A list of resource roles. Marathon considers only resource offers with roles in this list for launching
tasks of this app. If you do not specify this, Marathon considers all resource offers with roles that have been
configured by the <code class="highlighter-rouge">--default_accepted_resource_roles</code> command line flag. If no <code class="highlighter-rouge">--default_accepted_resource_roles</code> was
given on startup, Marathon considers all resource offers.</p>

<p>Example 1: <code class="highlighter-rouge">"acceptedResourceRoles": [ "production", "*" ]</code> Tasks of this app definition are launched either
on “production” or “*” resources.</p>

<p>Example 2: <code class="highlighter-rouge">"acceptedResourceRoles": [ "public" ]</code> Tasks of this app definition are launched only on “public”
resources.</p>

<p>Background: Mesos can assign roles to certain resource shares. Frameworks which are not explicitly registered for
a role do not see resources of that role. In this way, you can reserve resources for frameworks. Resources not reserved
for custom role, are available for all frameworks. Mesos assigns the special role “*” to them.</p>

<p>To register Marathon for a role, you need to specify the <code class="highlighter-rouge">--mesos_role</code> command line flag on startup.
If you want to assign all resources of a
slave to a role, you can use the <code class="highlighter-rouge">--default_role</code> argument when starting up the slave. If you need a more
fine-grained configuration, you can use the <code class="highlighter-rouge">--resources</code> argument to specify resource shares per role. The Mesos master
needs to be started with <code class="highlighter-rouge">--roles</code> followed by a comma-separated list of all roles you want to use across your cluster.
See
<a href="http://mesos.apache.org/documentation/latest/configuration/">the Mesos command line documentation</a> for details.</p>

<p><strong>Note:</strong> Mesos does not currently support multiple roles for a framework, which means that you cannot deploy apps to more than one role. An interim solution is to create one Marathon per role.</p>

<h5 id="labels-object-of-string-values">labels (Object of String values)</h5>

<p>Attaching metadata to apps can be useful to expose additional information
to other services, so we added the ability to place labels on apps
(for example, you could label apps “staging” and “production” to mark
services by their position in the pipeline).</p>

<h5 id="fetch-array-of-objects">fetch (Array of Objects)</h5>

<p>Since <span class="label label-default">v0.15.0</span>: The list of URIs to
fetch before the task starts.
Example:  <code class="highlighter-rouge"><span class="p">{</span><span class="w"> </span><span class="nt">"uri"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://get.me"</span><span class="w"> </span><span class="p">}</span></code>
Example:  <code class="highlighter-rouge"><span class="p">{</span><span class="w"> </span><span class="nt">"uri"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://foo.com/archive.zip"</span><span class="p">,</span><span class="w"> </span><span class="nt">"executable"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w"> </span><span class="nt">"extract"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w"> </span><span class="nt">"cache"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w"> </span><span class="p">}</span></code>
On every artifact you can define the following properties:</p>

<ul>
  <li><code class="highlighter-rouge">uri</code>: URI to be fetched by Mesos fetcher module</li>
  <li><code class="highlighter-rouge">executable</code>: Set fetched artifact as executable</li>
  <li><code class="highlighter-rouge">extract</code>: Extract fetched artifact if supported by Mesos fetcher module</li>
  <li><code class="highlighter-rouge">cache</code>: Cache fetched artifact if supported by Mesos fetcher module</li>
</ul>

<p>For documentation about the mesos fetcher cache, see here: http://mesos.apache.org/documentation/latest/fetcher/</p>

<h5 id="uris-array-of-strings">uris (Array of Strings)</h5>

<p>Since <span class="label label-default">v0.15.0</span>: <strong>Deprecated</strong> . Use fetch instead.
URIs defined here are resolved, before the application gets started. If the application has external dependencies, they should be defined here.</p>

<h5 id="dependencies-array-of-strings">dependencies (Array of Strings)</h5>

<p>A list of services upon which this application depends. An order is derived from the dependencies for performing start/stop and upgrade of the application.  For example, an application <code class="highlighter-rouge">/a</code> relies on the services <code class="highlighter-rouge">/b</code> which itself relies on <code class="highlighter-rouge">/c</code>. To start all 3 applications, first <code class="highlighter-rouge">/c</code> is started than <code class="highlighter-rouge">/b</code> than <code class="highlighter-rouge">/a</code>.</p>

<h5 id="healthchecks">healthChecks</h5>

<p>An array of checks to be performed on running tasks to determine if they are
operating as expected. Health checks begin immediately upon task launch.
By default, health checks are executed by the Marathon scheduler.
In this case, the only supported protocol is <code class="highlighter-rouge">COMMAND</code> and each app is limited to
at most one defined health check.</p>

<p>An HTTP health check is considered passing if (1) its HTTP response code is between
200 and 399, inclusive, and (2) its response is received within the
<code class="highlighter-rouge">timeoutSeconds</code> period.</p>

<p>If a task fails more than <code class="highlighter-rouge">maxConsecutiveFailures</code>
health checks consecutively, that task is killed causing Marathon to start
more instances. These restarts are modulated like any other failing app
by <code class="highlighter-rouge">backoffSeconds</code>, <code class="highlighter-rouge">backoffFactor</code> and <code class="highlighter-rouge">maxLaunchDelaySeconds</code>.
The kill of the unhealthy task is signalled via <code class="highlighter-rouge">unhealthy_task_kill_event</code> event.</p>

<h6 id="health-check-options">Health Check Options</h6>

<ul>
  <li><code class="highlighter-rouge">command</code>: Command to run in order to determine the health of a task.</li>
  <li><code class="highlighter-rouge">gracePeriodSeconds</code> (Optional. Default: 15): Health check failures are
ignored within this number of seconds of the task being started or until the
task becomes healthy for the first time.</li>
  <li><code class="highlighter-rouge">intervalSeconds</code> (Optional. Default: 10): Number of seconds to wait between
health checks.</li>
  <li><code class="highlighter-rouge">maxConsecutiveFailures</code>(Optional. Default: 3) : Number of consecutive health
check failures after which the unhealthy task should be killed.</li>
  <li><code class="highlighter-rouge">protocol</code> (Optional. Default: “HTTP”): Protocol of the requests to be
performed. One of “HTTP”, “HTTPS”, “TCP”, or “Command”.</li>
  <li><code class="highlighter-rouge">path</code> (Optional. Default: “/”): Path to endpoint exposed by the task that
will provide health  status. Example: “/path/to/health”.
<em>Note: only used if <code class="highlighter-rouge">protocol == "HTTP"</code>.</em></li>
  <li><code class="highlighter-rouge">portIndex</code> (Optional. Default: 0): Index in this app’s <code class="highlighter-rouge">ports</code> array to be
used for health requests. An index is used so the app can use random ports,
like “[0, 0, 0]” for example, and tasks could be started with port environment
variables like <code class="highlighter-rouge">$PORT1</code>.</li>
  <li><code class="highlighter-rouge">timeoutSeconds</code> (Optional. Default: 20): Number of seconds after which a
health check is considered a failure regardless of the response.</li>
</ul>

<h5 id="backoffseconds-backofffactor-and-maxlaunchdelayseconds">backoffSeconds, backoffFactor and maxLaunchDelaySeconds</h5>

<p>Configures exponential backoff behavior when launching potentially sick apps.
This prevents sandboxes associated with consecutively failing tasks from
filling up the hard disk on Mesos slaves. The backoff period is multiplied by
the factor for each consecutive failure until it reaches maxLaunchDelaySeconds.
This applies also to tasks that are killed due to failing too many health checks.</p>

<h5 id="taskkillgraceperiodseconds-optional">taskKillGracePeriodSeconds (Optional.)</h5>

<p>Configures the termination signal escalation behavior of executors when stopping
tasks. Sets the number of seconds between the executor sending SIGTERM to a task
it is about to stop and then finally sending SIGKILL to enforce the matter.</p>

<p>Using this grace period, tasks should perform orderly shutdown immediately upon
receiving SIGTERM.</p>

<p>By default, there is no grace period in effect or at most a minimal one, at the
discretion of the Mesos implementation in use.</p>

<h5 id="a-nameupgrade-strategya-upgradestrategy"><a name="upgrade-strategy"></a> upgradeStrategy</h5>

<p>During an upgrade all instances of an application get replaced by a new version.
The upgradeStrategy controls how Marathon stops old versions and launches
new versions. It consists of two values:</p>

<ul>
  <li><code class="highlighter-rouge">minimumHealthCapacity</code> (Optional. Default: 1.0) - a number between <code class="highlighter-rouge">0</code>and <code class="highlighter-rouge">1</code>
that is multiplied with the instance count. This is the minimum number of healthy
nodes that do not sacrifice overall application purpose. Marathon will make sure,
during the upgrade process, that at any point of time this number of healthy
instances are up.</li>
  <li><code class="highlighter-rouge">maximumOverCapacity</code> (Optional. Default: 1.0) - a number between <code class="highlighter-rouge">0</code> and
<code class="highlighter-rouge">1</code> which is multiplied with the instance count. This is the maximum number of
additional instances launched at any point of time during the upgrade process.</li>
</ul>

<p>The default <code class="highlighter-rouge">minimumHealthCapacity</code> is <code class="highlighter-rouge">1</code>, which means no old instance can be
stopped before another healthy new version is deployed.
A value of <code class="highlighter-rouge">0.5</code> means that during an upgrade half of the old version instances
are stopped first to make space for the new version.
A value of <code class="highlighter-rouge">0</code> means take all instances down immediately and replace with the
new application.</p>

<p>The default <code class="highlighter-rouge">maximumOverCapacity</code> is <code class="highlighter-rouge">1</code>, which means that all old and new
instances can co-exist during the upgrade process.
A value of <code class="highlighter-rouge">0.1</code> means that during the upgrade process 10% more capacity than
usual may be used for old and new instances.
A value of <code class="highlighter-rouge">0.0</code> means that even during the upgrade process no more capacity may
be used for the new instances than usual. Only when an old version is stopped,
a new instance can be deployed.</p>

<p>If <code class="highlighter-rouge">minimumHealthCapacity</code> is <code class="highlighter-rouge">1</code> and <code class="highlighter-rouge">maximumOverCapacity</code> is <code class="highlighter-rouge">0</code>, at least
one additional new instance is launched in the beginning of the upgrade process.
When it is healthy, one of the old instances is stopped. After it is stopped,
another new instance is started, and so on.</p>

<p>A combination of <code class="highlighter-rouge">minimumHealthCapacity</code> equal to <code class="highlighter-rouge">0.9</code> and
<code class="highlighter-rouge">maximumOverCapacity</code> equal to <code class="highlighter-rouge">0</code> results in a rolling update, replacing
10% of the instances at a time, keeping at least 90% of the app online at any
point of time during the upgrade.</p>

<p>A combination of <code class="highlighter-rouge">minimumHealthCapacity</code> equal to <code class="highlighter-rouge">1.0</code> and
<code class="highlighter-rouge">maximumOverCapacity</code> equal to <code class="highlighter-rouge">0.1</code> results in a rolling update, replacing
10% of the instances at a time and keeping at least 100% of the app online at
any point of time during the upgrade with 10% of additional capacity.</p>

<h5 id="a-nameipaddressa-ipaddress"><a name="ipaddress"></a> ipAddress</h5>

<p><code class="highlighter-rouge">ipAddress</code> declares that your application will use IP-per-task networking.</p>

<ul>
  <li>
    <p><code class="highlighter-rouge">groups</code> (Optional) -
A group is the name given to a set of logically-related interfaces that
are allowed to communicate among themselves. Network traffic is allowed
between two container interfaces that share at least one network group.
For example, one might want to create separate groups for isolating dev,
testing, qa and prod deployment environments.</p>
  </li>
  <li>
    <p><code class="highlighter-rouge">labels</code> (Optional) -
To tag certain metadata to be used by Isolator/IPAM, e.g., rack, etc.</p>
  </li>
  <li>
    <p><code class="highlighter-rouge">networkName</code> (Optional) -
Name of the network which will be used by Mesos to determine the network
that the container joins. It is up to Mesos to decide how to interpret this
field. If <code class="highlighter-rouge">ipAddress</code> is defined and its <code class="highlighter-rouge">networkName</code> is not then the value
of <code class="highlighter-rouge">networkName</code> defaults to the value of the <code class="highlighter-rouge">default_network_name</code>
command-line flag (if specified).</p>
  </li>
</ul>

<h5 id="example">Example</h5>

<p><strong>Request:</strong></p>

<div class="language-http highlighter-rouge"><pre class="highlight"><code><span class="nf">POST</span> <span class="nn">/v2/apps</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Accept-Encoding</span><span class="p">:</span> <span class="s">gzip, deflate</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">562</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json; charset=utf-8</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">mesos.vm:8080</span>
<span class="na">User-Agent</span><span class="p">:</span> <span class="s">HTTPie/0.8.0</span>

<span class="p">{</span><span class="w">
    </span><span class="nt">"cmd"</span><span class="p">:</span><span class="w"> </span><span class="s2">"env &amp;&amp; python3 -m http.server $PORT0"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"constraints"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">[</span><span class="w">
            </span><span class="s2">"hostname"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"UNIQUE"</span><span class="w">
        </span><span class="p">]</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nt">"container"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"docker"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"image"</span><span class="p">:</span><span class="w"> </span><span class="s2">"python:3"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"DOCKER"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"cpus"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.25</span><span class="p">,</span><span class="w">
    </span><span class="nt">"healthChecks"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nt">"gracePeriodSeconds"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
            </span><span class="nt">"intervalSeconds"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
            </span><span class="nt">"maxConsecutiveFailures"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
            </span><span class="nt">"path"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"portIndex"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
            </span><span class="nt">"protocol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"HTTP"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"timeoutSeconds"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"my-app"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"instances"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
    </span><span class="nt">"mem"</span><span class="p">:</span><span class="w"> </span><span class="mi">50</span><span class="p">,</span><span class="w">
    </span><span class="nt">"ports"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="mi">0</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nt">"upgradeStrategy"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"minimumHealthCapacity"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.5</span><span class="p">,</span><span class="w">
        </span><span class="nt">"maximumOverCapacity"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.5</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p><strong>Response:</strong></p>

<div class="language-http highlighter-rouge"><pre class="highlight"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">201</span> <span class="ne">Created</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Location</span><span class="p">:</span> <span class="s">http://mesos.vm:8080/v2/apps/my-app</span>
<span class="na">Server</span><span class="p">:</span> <span class="s">Jetty(8.y.z-SNAPSHOT)</span>
<span class="na">Transfer-Encoding</span><span class="p">:</span> <span class="s">chunked</span>

<span class="p">{</span><span class="w">
    </span><span class="nt">"args"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"backoffFactor"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.15</span><span class="p">,</span><span class="w">
    </span><span class="nt">"backoffSeconds"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nt">"maxLaunchDelaySeconds"</span><span class="p">:</span><span class="w"> </span><span class="mi">3600</span><span class="p">,</span><span class="w">
    </span><span class="nt">"cmd"</span><span class="p">:</span><span class="w"> </span><span class="s2">"env &amp;&amp; python3 -m http.server $PORT0"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"constraints"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">[</span><span class="w">
            </span><span class="s2">"hostname"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"UNIQUE"</span><span class="w">
        </span><span class="p">]</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nt">"container"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"docker"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"image"</span><span class="p">:</span><span class="w"> </span><span class="s2">"python:3"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"DOCKER"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"volumes"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"cpus"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.25</span><span class="p">,</span><span class="w">
    </span><span class="nt">"dependencies"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
    </span><span class="nt">"deployments"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"f44fd4fc-4330-4600-a68b-99c7bd33014a"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nt">"disk"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
    </span><span class="nt">"env"</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w">
    </span><span class="nt">"executor"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nt">"healthChecks"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nt">"command"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="nt">"gracePeriodSeconds"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
            </span><span class="nt">"intervalSeconds"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
            </span><span class="nt">"maxConsecutiveFailures"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
            </span><span class="nt">"path"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"portIndex"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
            </span><span class="nt">"protocol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"HTTP"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"timeoutSeconds"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/my-app"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"instances"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
    </span><span class="nt">"mem"</span><span class="p">:</span><span class="w"> </span><span class="mf">50.0</span><span class="p">,</span><span class="w">
    </span><span class="nt">"portDefinitions"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="nt">"port"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nt">"requirePorts"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nt">"storeUrls"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
    </span><span class="nt">"upgradeStrategy"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"minimumHealthCapacity"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.5</span><span class="p">,</span><span class="w">
        </span><span class="nt">"maximumOverCapacity"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.5</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"uris"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
    </span><span class="nt">"user"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"version"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-08-18T22:36:41.451Z"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<h5 id="example-create-an-app-with-an-already-existing-id">Example (create an app with an already existing ID)</h5>
<p>If the ID you are trying to create already exists, then the create operation fails.</p>

<p><strong>Request:</strong></p>

<div class="language-http highlighter-rouge"><pre class="highlight"><code><span class="nf">POST</span> <span class="nn">/v2/apps</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Accept-Encoding</span><span class="p">:</span> <span class="s">gzip, deflate</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json; charset=utf-8</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">mesos.vm:8080</span>
<span class="na">User-Agent</span><span class="p">:</span> <span class="s">HTTPie/0.8.0</span>

<span class="p">{</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="s2">"duplicated"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"cmd"</span><span class="p">:</span><span class="s2">"sleep 100"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"cpus"</span><span class="p">:</span><span class="mf">0.1</span><span class="p">,</span><span class="w">
    </span><span class="nt">"mem"</span><span class="p">:</span><span class="mi">16</span><span class="p">,</span><span class="w">
    </span><span class="nt">"instances"</span><span class="p">:</span><span class="mi">1</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p><strong>Response:</strong></p>

<div class="language-http highlighter-rouge"><pre class="highlight"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">409</span> <span class="ne">Conflict</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Server</span><span class="p">:</span> <span class="s">Jetty(8.y.z-SNAPSHOT)</span>
<span class="na">Transfer-Encoding</span><span class="p">:</span> <span class="s">chunked</span>

<span class="p">{</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="s2">"duplicated"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"An app with id [/duplicated] already exists."</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<h4 id="get-v2apps">GET <code class="highlighter-rouge">/v2/apps</code></h4>

<p>List all running applications.</p>

<p>The list of running applications can be filtered by application identifier, command and label selector.
All filters can be applied at the same time.</p>

<h5 id="parameters">Parameters</h5>

<table class="table table-bordered">
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>cmd</code></td>
      <td><code>string</code></td>
      <td>
        Filter apps to only those whose commands contain <code>cmd</code>.
        Default: <code>""</code>.
      </td>
    </tr>
    <tr>
      <td><code>embed</code></td>
      <td><code>string</code></td>
      <td>
        Embeds nested resources that match the supplied path.
        You can specify this parameter multiple times with different values, e.g.
        <code>"embed=apps.deployments&amp;embed=apps.lastTaskFailure"</code>
        Default: <code>apps.counts</code>. You are encouraged to specify
        <code>"embed=apps.counts"</code>
        explicitly if you rely on this information because we will change the default
        in a future release. Possible values:
        <ul>
          <li>
            <code>"apps.tasks"</code>. Apps' tasks are not embedded in the response
            by default. This currently implies "apps.deployments" currently but that
            will change in a future version.
          </li>
          <li>
            <code>"apps.counts"</code>. Apps' task counts (tasksStaged, tasksRunning,
            tasksHealthy, tasksUnhealthy) are currently embedded by default but this
            will change in a future release.
          </li>
          <li>
            <code>"apps.deployments"</code>. This embeds the IDs of deployments related to this
            app into "deployments".
          </li>
          <li>
            <code>"apps.lastTaskFailure"</code>. This embeds the "lastTaskFailure" for
            every app if there is one.
          </li>
          <li>
            <code>"apps.failures"</code>. <strong>deprecated</strong> Apps' last failures are not embedded in
            the response by default. This implies "apps.lastTaskFailure", "apps.tasks", "apps.counts" and
            "apps.deployments".
          </li>
          <li>
            <code>"apps.taskStats"</code>. <span class="label label-default">v0.11</span> This exposes some task
            statatistics in the JSON.
          </li>
        </ul>
      </td>
    </tr>
  </tbody>
</table>

<h5 id="taskrunning-integer">taskRunning (Integer)</h5>

<p><strong>Warning</strong> Future versions of Marathon will only deliver this information
when you specify “embed=apps.counts” as a query parameter.</p>

<p>The number of tasks running for this application definition.</p>

<h5 id="tasksstaged-integer">tasksStaged (Integer)</h5>

<p><strong>Warning</strong> Future versions of Marathon will only deliver this information
when you specify “embed=apps.counts” as a query parameter.</p>

<p>The number of tasks staged to run.</p>

<h5 id="taskshealthy-integer">tasksHealthy (Integer)</h5>

<p><strong>Warning</strong> Future versions of Marathon will only deliver this information
when you specify “embed=apps.counts” as a query parameter.</p>

<p>The number of tasks which are healthy.</p>

<h5 id="tasksunhealthy-integer">tasksUnhealthy (Integer)</h5>

<p><strong>Warning</strong> Future versions of Marathon will only deliver this information
when you specify “embed=apps.counts” as a query parameter.</p>

<p>The number of tasks which are unhealthy.</p>

<h5 id="deployments-array-of-objects">deployments (Array of Objects)</h5>

<p>Use the query parameter “embed=apps.deployments” to embed this information.</p>

<p>A list of currently running deployments that affect this application.
If this array is nonempty, then this app is locked for updates.</p>

<p>The objects in the list only contain the id of the deployment, e.g.:</p>

<div class="language-javascript highlighter-rouge"><pre class="highlight"><code><span class="p">{</span>
    <span class="s2">"id"</span><span class="err">:</span> <span class="s2">"44c4ed48-ee53-4e0f-82dc-4df8b2a69057"</span>
<span class="p">}</span>
</code></pre>
</div>

<h5 id="taskstats-object-span-classlabel-label-defaultv011span">taskStats (Object) <span class="label label-default">v0.11</span></h5>

<p>Provides task statistics. The “taskStats” object only gets embedded into the app JSON if 
you pass an <code class="highlighter-rouge">embed=apps.taskStats</code> query argument.</p>

<p>Task statistics are provided for the following groups of tasks. If no tasks for the group exist, no statistics are
offered:</p>

<ul>
  <li><code class="highlighter-rouge">"withLatestConfig"</code> contains statistics about all tasks that run with the same config as the latest app version.</li>
  <li><code class="highlighter-rouge">"startedAfterLastScaling"</code> contains statistics about all tasks that were started after the last scaling or
restart operation.</li>
  <li><code class="highlighter-rouge">"withOutdatedConfig"</code> contains statistics about all tasks that were started before the last config change which
was not simply a restart or scaling operation.</li>
  <li><code class="highlighter-rouge">"totalSummary"</code> contains statistics about all tasks.</li>
</ul>

<p>Example JSON:</p>

<div class="language-javascript highlighter-rouge"><pre class="highlight"><code><span class="p">{</span>
  <span class="c1">// ...</span>
  <span class="s2">"taskStats"</span><span class="err">:</span> <span class="p">{</span>
    <span class="p">{</span>
      <span class="s2">"startedAfterLastScaling"</span> <span class="err">:</span> <span class="p">{</span>
        <span class="s2">"stats"</span> <span class="err">:</span> <span class="p">{</span>
          <span class="s2">"counts"</span> <span class="err">:</span> <span class="p">{</span> <span class="c1">// equivalent to tasksStaged, tasksRunning, tasksHealthy, tasksUnhealthy</span>
            <span class="s2">"staged"</span> <span class="err">:</span> <span class="mi">1</span><span class="p">,</span>
            <span class="s2">"running"</span> <span class="err">:</span> <span class="mi">100</span><span class="p">,</span>
            <span class="s2">"healthy"</span> <span class="err">:</span> <span class="mi">90</span><span class="p">,</span>
            <span class="s2">"unhealthy"</span> <span class="err">:</span> <span class="mi">4</span>
          <span class="p">},</span>
          <span class="c1">// "lifeTime" is only included if there are running tasks.</span>
          <span class="s2">"lifeTime"</span> <span class="err">:</span> <span class="p">{</span> 
            <span class="c1">// Measured from `"startedAt"` (timestamp of the Mesos TASK_RUNNING status update) of each running task </span>
            <span class="c1">// until now.</span>
            <span class="s2">"averageSeconds"</span> <span class="err">:</span> <span class="mf">20.0</span><span class="p">,</span>
            <span class="s2">"medianSeconds"</span> <span class="err">:</span> <span class="mf">10.0</span>
          <span class="p">}</span>
        <span class="p">}</span>
      <span class="p">},</span>
      <span class="s2">"withLatestConfig"</span> <span class="err">:</span> <span class="p">{</span>
        <span class="s2">"stats"</span> <span class="err">:</span> <span class="p">{</span> <span class="cm">/* ... same structure as above ... */</span> <span class="p">}</span>
      <span class="p">},</span>
      <span class="s2">"withOutdatedConfig"</span> <span class="err">:</span> <span class="p">{</span>
        <span class="s2">"stats"</span> <span class="err">:</span> <span class="p">{</span> <span class="cm">/* ... same structure as above ... */</span> <span class="p">}</span>
      <span class="p">},</span>
      <span class="s2">"totalSummary"</span> <span class="err">:</span> <span class="p">{</span>
        <span class="s2">"stats"</span> <span class="err">:</span> <span class="p">{</span> <span class="cm">/* ... same structure as above ... */</span> <span class="p">}</span>
      <span class="p">}</span>
    <span class="p">}</span>
  <span class="p">}</span>
  <span class="c1">// ...</span>
<span class="p">}</span>
</code></pre>
</div>

<p>The calculation of these statistics is currently performed for every request and expensive if you have
very many tasks.</p>

<h5 id="lasttaskfailure-object">lastTaskFailure (Object)</h5>

<p>Information about the last task failure for debugging purposes.</p>

<p>This information only gets embedded if you specify the “embed=apps.lastTaskFailure” query
parameter.</p>

<h5 id="version">version</h5>

<p>The version of the current app definition</p>

<h5 id="versioninfolastconfigchangeat-timestamp-as-string">versionInfo.lastConfigChangeAt (Timestamp as String)</h5>

<p><code class="highlighter-rouge">"lastConfigChangeAt"</code> contains the time stamp of the last change to this app which was not simply a scaling
or a restarting configuration.</p>

<h5 id="versioninfolastscalingat-timestamp-as-string">versionInfo.lastScalingAt (Timestamp as String)</h5>

<p><code class="highlighter-rouge">"lastScalingAt"</code> contains the time stamp of the last change including changes like scaling or 
restarting the app. Since our versions are time based, this is currently equal to <code class="highlighter-rouge">"version"</code>.</p>

<h5 id="example-1">Example</h5>

<p><strong>Request:</strong></p>

<div class="language-http highlighter-rouge"><pre class="highlight"><code><span class="nf">GET</span> <span class="nn">/v2/apps</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Accept-Encoding</span><span class="p">:</span> <span class="s">gzip, deflate, compress</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json; charset=utf-8</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">localhost:8080</span>
<span class="na">User-Agent</span><span class="p">:</span> <span class="s">HTTPie/0.7.2</span>

<span class="w">
</span></code></pre>
</div>

<p><strong>Response:</strong></p>

<div class="language-http highlighter-rouge"><pre class="highlight"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Server</span><span class="p">:</span> <span class="s">Jetty(8.y.z-SNAPSHOT)</span>
<span class="na">Transfer-Encoding</span><span class="p">:</span> <span class="s">chunked</span>

<span class="p">{</span><span class="w">
    </span><span class="nt">"apps"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/product/us-east/service/myapp"</span><span class="p">,</span><span class="w"> 
            </span><span class="nt">"cmd"</span><span class="p">:</span><span class="w"> </span><span class="s2">"env &amp;&amp; sleep 60"</span><span class="p">,</span><span class="w"> 
            </span><span class="nt">"constraints"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">[</span><span class="w">
                    </span><span class="s2">"hostname"</span><span class="p">,</span><span class="w"> 
                    </span><span class="s2">"UNIQUE"</span><span class="p">,</span><span class="w"> 
                    </span><span class="s2">""</span><span class="w">
                </span><span class="p">]</span><span class="w">
            </span><span class="p">],</span><span class="w"> 
            </span><span class="nt">"container"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w"> 
            </span><span class="nt">"cpus"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.1</span><span class="p">,</span><span class="w"> 
            </span><span class="nt">"env"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nt">"LD_LIBRARY_PATH"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/usr/local/lib/myLib"</span><span class="w">
            </span><span class="p">},</span><span class="w"> 
            </span><span class="nt">"executor"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w"> 
            </span><span class="nt">"instances"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> 
            </span><span class="nt">"mem"</span><span class="p">:</span><span class="w"> </span><span class="mf">5.0</span><span class="p">,</span><span class="w"> 
            </span><span class="nt">"ports"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="mi">15092</span><span class="p">,</span><span class="w"> 
                </span><span class="mi">14566</span><span class="w">
            </span><span class="p">],</span><span class="w"> 
            </span><span class="nt">"tasksRunning"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> 
            </span><span class="nt">"tasksStaged"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> 
            </span><span class="nt">"uris"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="s2">"https://raw.github.com/mesosphere/marathon/master/README.md"</span><span class="w">
            </span><span class="p">],</span><span class="w"> 
            </span><span class="nt">"version"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-03-01T23:42:20.938Z"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<h4 id="get-v2appscmdcommand">GET <code class="highlighter-rouge">/v2/apps?cmd={command}</code></h4>

<p>List all running applications, filtered by <code class="highlighter-rouge">command</code>.
Note: the specified command must be contained in the applications command (substring).</p>

<h5 id="example-2">Example</h5>

<p><strong>Request:</strong></p>

<div class="language-http highlighter-rouge"><pre class="highlight"><code><span class="nf">GET</span> <span class="nn">/v2/apps?cmd=sleep%2060</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Accept-Encoding</span><span class="p">:</span> <span class="s">gzip, deflate, compress</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json; charset=utf-8</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">localhost:8080</span>
<span class="na">User-Agent</span><span class="p">:</span> <span class="s">HTTPie/0.7.2</span>

<span class="w">
</span></code></pre>
</div>

<p><strong>Response:</strong></p>

<div class="language-http highlighter-rouge"><pre class="highlight"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Server</span><span class="p">:</span> <span class="s">Jetty(8.y.z-SNAPSHOT)</span>
<span class="na">Transfer-Encoding</span><span class="p">:</span> <span class="s">chunked</span>

<span class="p">{</span><span class="w">
    </span><span class="nt">"apps"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/product/us-east/service/myapp"</span><span class="p">,</span><span class="w"> 
            </span><span class="nt">"cmd"</span><span class="p">:</span><span class="w"> </span><span class="s2">"env &amp;&amp; sleep 60"</span><span class="p">,</span><span class="w"> 
            </span><span class="nt">"constraints"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">[</span><span class="w">
                    </span><span class="s2">"hostname"</span><span class="p">,</span><span class="w"> 
                    </span><span class="s2">"UNIQUE"</span><span class="p">,</span><span class="w"> 
                    </span><span class="s2">""</span><span class="w">
                </span><span class="p">]</span><span class="w">
            </span><span class="p">],</span><span class="w"> 
            </span><span class="nt">"container"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w"> 
            </span><span class="nt">"cpus"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.1</span><span class="p">,</span><span class="w"> 
            </span><span class="nt">"env"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nt">"LD_LIBRARY_PATH"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/usr/local/lib/myLib"</span><span class="w">
            </span><span class="p">},</span><span class="w"> 
            </span><span class="nt">"executor"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w"> 
            </span><span class="nt">"instances"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> 
            </span><span class="nt">"mem"</span><span class="p">:</span><span class="w"> </span><span class="mf">5.0</span><span class="p">,</span><span class="w"> 
            </span><span class="nt">"ports"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="mi">15092</span><span class="p">,</span><span class="w"> 
                </span><span class="mi">14566</span><span class="w">
            </span><span class="p">],</span><span class="w"> 
            </span><span class="nt">"tasksRunning"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> 
            </span><span class="nt">"tasksStaged"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> 
            </span><span class="nt">"uris"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="s2">"https://raw.github.com/mesosphere/marathon/master/README.md"</span><span class="w">
            </span><span class="p">],</span><span class="w"> 
            </span><span class="nt">"version"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-03-01T23:42:20.938Z"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<h4 id="get-v2appsididentifier">GET <code class="highlighter-rouge">/v2/apps?id={identifier}</code></h4>

<p>List all running applications, filtered by <code class="highlighter-rouge">id</code>.
Note: the specified id must be contained in the applications id (substring).</p>

<h5 id="example-3">Example</h5>

<p><strong>Request:</strong></p>

<div class="language-http highlighter-rouge"><pre class="highlight"><code><span class="nf">GET</span> <span class="nn">/v2/apps?id=my</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Accept-Encoding</span><span class="p">:</span> <span class="s">gzip, deflate, compress</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json; charset=utf-8</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">localhost:8080</span>
<span class="na">User-Agent</span><span class="p">:</span> <span class="s">HTTPie/0.7.2</span>

<span class="w">
</span></code></pre>
</div>

<p><strong>Response:</strong></p>

<div class="language-http highlighter-rouge"><pre class="highlight"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Server</span><span class="p">:</span> <span class="s">Jetty(8.y.z-SNAPSHOT)</span>
<span class="na">Transfer-Encoding</span><span class="p">:</span> <span class="s">chunked</span>

<span class="p">{</span><span class="w">
    </span><span class="nt">"apps"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/product/us-east/service/myapp"</span><span class="p">,</span><span class="w"> 
            </span><span class="nt">"cmd"</span><span class="p">:</span><span class="w"> </span><span class="s2">"env &amp;&amp; sleep 60"</span><span class="p">,</span><span class="w"> 
            </span><span class="nt">"constraints"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">[</span><span class="w">
                    </span><span class="s2">"hostname"</span><span class="p">,</span><span class="w"> 
                    </span><span class="s2">"UNIQUE"</span><span class="p">,</span><span class="w"> 
                    </span><span class="s2">""</span><span class="w">
                </span><span class="p">]</span><span class="w">
            </span><span class="p">],</span><span class="w"> 
            </span><span class="nt">"container"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w"> 
            </span><span class="nt">"cpus"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.1</span><span class="p">,</span><span class="w"> 
            </span><span class="nt">"env"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nt">"LD_LIBRARY_PATH"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/usr/local/lib/myLib"</span><span class="w">
            </span><span class="p">},</span><span class="w"> 
            </span><span class="nt">"executor"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w"> 
            </span><span class="nt">"instances"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> 
            </span><span class="nt">"mem"</span><span class="p">:</span><span class="w"> </span><span class="mf">5.0</span><span class="p">,</span><span class="w"> 
            </span><span class="nt">"ports"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="mi">15092</span><span class="p">,</span><span class="w"> 
                </span><span class="mi">14566</span><span class="w">
            </span><span class="p">],</span><span class="w"> 
            </span><span class="nt">"tasksRunning"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> 
            </span><span class="nt">"tasksStaged"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> 
            </span><span class="nt">"uris"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="s2">"https://raw.github.com/mesosphere/marathon/master/README.md"</span><span class="w">
            </span><span class="p">],</span><span class="w"> 
            </span><span class="nt">"version"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-03-01T23:42:20.938Z"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<h4 id="get-v2appslabellabelselectorquery">GET <code class="highlighter-rouge">/v2/apps?label={labelSelectorQuery}</code></h4>

<p>List all running applications, filtered by <code class="highlighter-rouge">labelSelectorQuery</code>.
This filter selects applications by application labels.</p>

<h5 id="label-selector-query">Label Selector Query</h5>

<p>A label selector query contains one or more label selectors, which are comma separated.
Marathon supports three types of selectors: existence-based, equality-based and set-based. 
In the case of multiple selectors, all must be satisfied so comma separator acts as an AND logical operator.
Labels and values must consist of alphanumeric characters plus <code class="highlighter-rouge">-</code> <code class="highlighter-rouge">_</code> and <code class="highlighter-rouge">.</code>: <code class="highlighter-rouge">-A-Za-z0-9_.</code>. 
Any other character is possible, but must be escaped with a backslash character.</p>

<p>Example:
<code class="highlighter-rouge">environment==production, tier!=frontend\ tier, deployed in (us, eu), deployed notin (aa, bb)</code></p>

<h5 id="existence-based-selector-query">Existence based Selector Query</h5>

<p>Matches the existence of a label.</p>

<ul>
  <li><code class="highlighter-rouge">label</code></li>
</ul>

<p>Example:</p>

<ul>
  <li>environment</li>
</ul>

<h5 id="equality-based-selector-query">Equality based Selector Query</h5>

<p>Matches existence of labels and the (non) equality of the value.</p>

<ul>
  <li><code class="highlighter-rouge">label</code> == <code class="highlighter-rouge">value</code></li>
  <li><code class="highlighter-rouge">label</code> != <code class="highlighter-rouge">value</code></li>
</ul>

<p>Example:</p>

<ul>
  <li>environment = production</li>
  <li>tier != frontend</li>
</ul>

<h5 id="set-based-selector-query">Set based Selector Query</h5>

<p>Matches existence of labels and the (non) existence of the value in a given set.</p>

<ul>
  <li><code class="highlighter-rouge">label</code> in ( <code class="highlighter-rouge">value</code>, <code class="highlighter-rouge">value</code>, … , <code class="highlighter-rouge">value</code> )</li>
  <li><code class="highlighter-rouge">label</code> notin ( <code class="highlighter-rouge">value</code>, <code class="highlighter-rouge">value</code>, … , <code class="highlighter-rouge">value</code> )</li>
</ul>

<p>Example:</p>

<ul>
  <li>environment in (production, qa)</li>
  <li>tier notin (frontend, backend)</li>
</ul>

<h5 id="example-4">Example</h5>

<p><strong>Request:</strong></p>

<div class="language-http highlighter-rouge"><pre class="highlight"><code><span class="nf">GET</span> <span class="nn">/v2/apps?label=foo%3d%3done%2c+bla!%3done%2c+foo+in+(one%2c+two%2c+three)%2c+bla+notin+(one%2c+two%2c+three)%2c+existence%22</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Accept-Encoding</span><span class="p">:</span> <span class="s">gzip, deflate, compress</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json; charset=utf-8</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">localhost:8080</span>
<span class="na">User-Agent</span><span class="p">:</span> <span class="s">HTTPie/0.7.2</span>

<span class="w">
</span></code></pre>
</div>

<p><strong>Response:</strong></p>

<div class="language-http highlighter-rouge"><pre class="highlight"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Server</span><span class="p">:</span> <span class="s">Jetty(8.y.z-SNAPSHOT)</span>
<span class="na">Transfer-Encoding</span><span class="p">:</span> <span class="s">chunked</span>

<span class="p">{</span><span class="w">
    </span><span class="nt">"apps"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/product/us-east/service/myapp"</span><span class="p">,</span><span class="w"> 
            </span><span class="nt">"cmd"</span><span class="p">:</span><span class="w"> </span><span class="s2">"env &amp;&amp; sleep 60"</span><span class="p">,</span><span class="w"> 
            </span><span class="nt">"labels"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nt">"foo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"one"</span><span class="p">,</span><span class="w"> 
                </span><span class="nt">"bla"</span><span class="p">:</span><span class="w"> </span><span class="s2">"four"</span><span class="p">,</span><span class="w"> 
                </span><span class="nt">"existence"</span><span class="p">:</span><span class="w"> </span><span class="s2">"yes"</span><span class="w">
            </span><span class="p">},</span><span class="w"> 
            </span><span class="nt">"container"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w"> 
            </span><span class="nt">"cpus"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.1</span><span class="p">,</span><span class="w"> 
            </span><span class="nt">"env"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nt">"LD_LIBRARY_PATH"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/usr/local/lib/myLib"</span><span class="w">
            </span><span class="p">},</span><span class="w"> 
            </span><span class="nt">"executor"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w"> 
            </span><span class="nt">"instances"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> 
            </span><span class="nt">"mem"</span><span class="p">:</span><span class="w"> </span><span class="mf">5.0</span><span class="p">,</span><span class="w"> 
            </span><span class="nt">"ports"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="mi">15092</span><span class="p">,</span><span class="w"> 
                </span><span class="mi">14566</span><span class="w">
            </span><span class="p">],</span><span class="w"> 
            </span><span class="nt">"tasksRunning"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> 
            </span><span class="nt">"tasksStaged"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> 
            </span><span class="nt">"uris"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="s2">"https://raw.github.com/mesosphere/marathon/master/README.md"</span><span class="w">
            </span><span class="p">],</span><span class="w"> 
            </span><span class="nt">"version"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-03-01T23:42:20.938Z"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<h4 id="get-v2appsproductus-east">GET <code class="highlighter-rouge">/v2/apps/product/us-east/*</code></h4>

<p>List all running applications, which live in the namespace /product/us-east</p>

<h5 id="example-5">Example</h5>

<p><strong>Request:</strong></p>

<div class="language-http highlighter-rouge"><pre class="highlight"><code><span class="nf">GET</span> <span class="nn">/v2/apps/product/us-east/*</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Accept-Encoding</span><span class="p">:</span> <span class="s">gzip, deflate, compress</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json; charset=utf-8</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">localhost:8080</span>
<span class="na">User-Agent</span><span class="p">:</span> <span class="s">HTTPie/0.7.2</span>

<span class="w">
</span></code></pre>
</div>

<p><strong>Response:</strong></p>

<div class="language-http highlighter-rouge"><pre class="highlight"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Server</span><span class="p">:</span> <span class="s">Jetty(8.y.z-SNAPSHOT)</span>
<span class="na">Transfer-Encoding</span><span class="p">:</span> <span class="s">chunked</span>

<span class="p">{</span><span class="w">
    </span><span class="nt">"apps"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/product/us-east/service/myapp"</span><span class="p">,</span><span class="w"> 
            </span><span class="nt">"cmd"</span><span class="p">:</span><span class="w"> </span><span class="s2">"env &amp;&amp; sleep 60"</span><span class="p">,</span><span class="w"> 
            </span><span class="nt">"constraints"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">[</span><span class="w">
                    </span><span class="s2">"hostname"</span><span class="p">,</span><span class="w"> 
                    </span><span class="s2">"UNIQUE"</span><span class="p">,</span><span class="w"> 
                    </span><span class="s2">""</span><span class="w">
                </span><span class="p">]</span><span class="w">
            </span><span class="p">],</span><span class="w"> 
            </span><span class="nt">"container"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w"> 
            </span><span class="nt">"cpus"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.1</span><span class="p">,</span><span class="w"> 
            </span><span class="nt">"env"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nt">"LD_LIBRARY_PATH"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/usr/local/lib/myLib"</span><span class="w">
            </span><span class="p">},</span><span class="w"> 
            </span><span class="nt">"executor"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w"> 
            </span><span class="nt">"instances"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> 
            </span><span class="nt">"mem"</span><span class="p">:</span><span class="w"> </span><span class="mf">5.0</span><span class="p">,</span><span class="w"> 
            </span><span class="nt">"ports"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="mi">15092</span><span class="p">,</span><span class="w"> 
                </span><span class="mi">14566</span><span class="w">
            </span><span class="p">],</span><span class="w"> 
            </span><span class="nt">"tasksRunning"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> 
            </span><span class="nt">"tasksStaged"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> 
            </span><span class="nt">"uris"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="s2">"https://raw.github.com/mesosphere/marathon/master/README.md"</span><span class="w">
            </span><span class="p">],</span><span class="w"> 
            </span><span class="nt">"version"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-03-01T23:42:20.938Z"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<h4 id="get-v2appsappidembedembed">GET <code class="highlighter-rouge">/v2/apps/{appId}?embed={embed}</code></h4>

<p>List the application with id <code class="highlighter-rouge">appId</code>.</p>

<p>The response includes some status information besides the current configuration of the app.</p>

<p>You can specify optional embed arguments, to get more embedded information.</p>

<h5 id="taskrunning-integer-1">taskRunning (Integer)</h5>

<p><strong>Warning</strong> Future versions of Marathon will only deliver this information
when you specify “embed=app.counts” as a query parameter.</p>

<p>The number of tasks running for this application definition.</p>

<h5 id="tasksstaged-integer-1">tasksStaged (Integer)</h5>

<p><strong>Warning</strong> Future versions of Marathon will only deliver this information
when you specify “embed=app.counts” as a query parameter.</p>

<p>The number of tasks staged to run.</p>

<h5 id="taskshealthy-integer-1">tasksHealthy (Integer)</h5>

<p><strong>Warning</strong> Future versions of Marathon will only deliver this information
when you specify “embed=app.counts” as a query parameter.</p>

<p>The number of tasks which are healthy.</p>

<h5 id="tasksunhealthy-integer-1">tasksUnhealthy (Integer)</h5>

<p><strong>Warning</strong> Future versions of Marathon will only deliver this information
when you specify “embed=app.counts” as a query parameter.</p>

<p>The number of tasks which are unhealthy.</p>

<h5 id="taskstats-object-span-classlabel-label-defaultv011span-1">taskStats (Object) <span class="label label-default">v0.11</span></h5>

<p>Provides task statistics. The “taskStats” object only gets embedded into the app JSON if 
you pass an <code class="highlighter-rouge">embed=app.taskStats</code> query argument.</p>

<p>Task statistics are provided for the following groups of tasks. If no tasks for the group exist, no statistics are
offered:</p>

<ul>
  <li><code class="highlighter-rouge">"withLatestConfig"</code> contains statistics about all tasks that run with the same config as the latest app version.</li>
  <li><code class="highlighter-rouge">"startedAfterLastScaling"</code> contains statistics about all tasks that were started after the last scaling or
restart operation.</li>
  <li><code class="highlighter-rouge">"withOutdatedConfig"</code> contains statistics about all tasks that were started before the last config change which
was not simply a restart or scaling operation.</li>
  <li><code class="highlighter-rouge">"totalSummary"</code> contains statistics about all tasks.</li>
</ul>

<p>Example JSON:</p>

<div class="language-javascript highlighter-rouge"><pre class="highlight"><code><span class="p">{</span>
  <span class="c1">// ...</span>
  <span class="s2">"taskStats"</span><span class="err">:</span> <span class="p">{</span>
    <span class="p">{</span>
      <span class="s2">"startedAfterLastScaling"</span> <span class="err">:</span> <span class="p">{</span>
        <span class="s2">"stats"</span> <span class="err">:</span> <span class="p">{</span>
          <span class="s2">"counts"</span> <span class="err">:</span> <span class="p">{</span> <span class="c1">// equivalent to tasksStaged, tasksRunning, tasksHealthy, tasksUnhealthy</span>
            <span class="s2">"staged"</span> <span class="err">:</span> <span class="mi">1</span><span class="p">,</span>
            <span class="s2">"running"</span> <span class="err">:</span> <span class="mi">100</span><span class="p">,</span>
            <span class="s2">"healthy"</span> <span class="err">:</span> <span class="mi">90</span><span class="p">,</span>
            <span class="s2">"unhealthy"</span> <span class="err">:</span> <span class="mi">4</span>
          <span class="p">},</span>
          <span class="c1">// "lifeTime" is only included if there are running tasks.</span>
          <span class="s2">"lifeTime"</span> <span class="err">:</span> <span class="p">{</span> 
            <span class="c1">// Measured from `"startedAt"` (timestamp of the Mesos TASK_RUNNING status update) of each running task </span>
            <span class="c1">// until now.</span>
            <span class="s2">"averageSeconds"</span> <span class="err">:</span> <span class="mf">20.0</span><span class="p">,</span>
            <span class="s2">"medianSeconds"</span> <span class="err">:</span> <span class="mf">10.0</span>
          <span class="p">}</span>
        <span class="p">}</span>
      <span class="p">},</span>
      <span class="s2">"withLatestConfig"</span> <span class="err">:</span> <span class="p">{</span>
        <span class="s2">"stats"</span> <span class="err">:</span> <span class="p">{</span> <span class="cm">/* ... same structure as above ... */</span> <span class="p">}</span>
      <span class="p">},</span>
      <span class="s2">"withOutdatedConfig"</span> <span class="err">:</span> <span class="p">{</span>
        <span class="s2">"stats"</span> <span class="err">:</span> <span class="p">{</span> <span class="cm">/* ... same structure as above ... */</span> <span class="p">}</span>
      <span class="p">},</span>
      <span class="s2">"totalSummary"</span> <span class="err">:</span> <span class="p">{</span>
        <span class="s2">"stats"</span> <span class="err">:</span> <span class="p">{</span> <span class="cm">/* ... same structure as above ... */</span> <span class="p">}</span>
      <span class="p">}</span>
    <span class="p">}</span>
  <span class="p">}</span>
  <span class="c1">// ...</span>
<span class="p">}</span>
</code></pre>
</div>

<p>The calculation of these statistics is currently performed for every request and expensive if you have
very many tasks.</p>

<h5 id="deployments-array-of-objects-1">deployments (Array of Objects)</h5>

<p><strong>Warning</strong> Future versions of Marathon will only deliver this information
when you specify “embed=app.deployments” as a query parameter.</p>

<p>A list of currently running deployments that affect this application.
If this array is nonempty, then this app is locked for updates.</p>

<p>The objects in the list only contain the id of the deployment, e.g.:</p>

<div class="language-javascript highlighter-rouge"><pre class="highlight"><code><span class="p">{</span>
    <span class="s2">"id"</span><span class="err">:</span> <span class="s2">"44c4ed48-ee53-4e0f-82dc-4df8b2a69057"</span>
<span class="p">}</span>
</code></pre>
</div>

<h5 id="readiness-array-of-objects">readiness (Array of Objects)</h5>

<p>A list of readiness check results.
Only available during a deployment in the start phase.</p>

<p>The object in the list contains a readiness check in the format of:</p>

<p><code class="highlighter-rouge">javascript
 {
     "name": "myReadyCheck",
     "taskId": "foo.c3c80be4-f780-11e5-8d32-e24449f9e499",
     "ready": false,
     "lastResponse": {
       "status": 500,
       "contentType": "application/json",
       "body": "{}"
     }
   }
</code></p>

<h5 id="lasttaskfailure-object-1">lastTaskFailure (Object)</h5>

<p>Information about the last task failure for debugging purposes.</p>

<p>This information only gets embedded if you specify the “embed=app.lastTaskFailure” query
parameter.</p>

<h5 id="version-1">version</h5>

<p>The version of the current app definition</p>

<h5 id="versioninfolastconfigchangeat-timestamp-as-string-1">versionInfo.lastConfigChangeAt (Timestamp as String)</h5>

<p><code class="highlighter-rouge">"lastConfigChangeAt"</code> contains the time stamp of the last change to this app which was not simply a scaling
or a restarting configuration.</p>

<h5 id="versioninfolastscalingat-timestamp-as-string-1">versionInfo.lastScalingAt (Timestamp as String)</h5>

<p><code class="highlighter-rouge">"lastScalingAt"</code> contains the time stamp of the last change including changes like scaling or 
restarting the app. Since our versions are time based, this is currently equal to <code class="highlighter-rouge">"version"</code>.</p>

<h5 id="example-6">Example</h5>

<p><strong>Request:</strong></p>

<div class="language-http highlighter-rouge"><pre class="highlight"><code><span class="nf">GET</span> <span class="nn">/v2/apps/myapp</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Accept-Encoding</span><span class="p">:</span> <span class="s">gzip, deflate, compress</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json; charset=utf-8</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">localhost:8080</span>
<span class="na">User-Agent</span><span class="p">:</span> <span class="s">HTTPie/0.7.2</span>

<span class="w">
</span></code></pre>
</div>

<p><strong>Response:</strong></p>

<div class="language-http highlighter-rouge"><pre class="highlight"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Server</span><span class="p">:</span> <span class="s">Jetty(8.y.z-SNAPSHOT)</span>
<span class="na">Transfer-Encoding</span><span class="p">:</span> <span class="s">chunked</span>

<span class="p">{</span><span class="w">
    </span><span class="nt">"app"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"args"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nt">"backoffFactor"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.15</span><span class="p">,</span><span class="w">
        </span><span class="nt">"backoffSeconds"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nt">"maxLaunchDelaySeconds"</span><span class="p">:</span><span class="w"> </span><span class="mi">3600</span><span class="p">,</span><span class="w">
        </span><span class="nt">"cmd"</span><span class="p">:</span><span class="w"> </span><span class="s2">"python toggle.py $PORT0"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"constraints"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
        </span><span class="nt">"container"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nt">"cpus"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.2</span><span class="p">,</span><span class="w">
        </span><span class="nt">"dependencies"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
        </span><span class="nt">"deployments"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"44c4ed48-ee53-4e0f-82dc-4df8b2a69057"</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="nt">"disk"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
        </span><span class="nt">"env"</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w">
        </span><span class="nt">"executor"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="nt">"healthChecks"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nt">"command"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
                </span><span class="nt">"gracePeriodSeconds"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
                </span><span class="nt">"intervalSeconds"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
                </span><span class="nt">"maxConsecutiveFailures"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
                </span><span class="nt">"path"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/health"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"portIndex"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
                </span><span class="nt">"protocol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"HTTP"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"timeoutSeconds"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nt">"command"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
                </span><span class="nt">"gracePeriodSeconds"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
                </span><span class="nt">"intervalSeconds"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
                </span><span class="nt">"maxConsecutiveFailures"</span><span class="p">:</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w">
                </span><span class="nt">"path"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/machinehealth"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"overridePort"</span><span class="p">:</span><span class="w"> </span><span class="mi">3333</span><span class="p">,</span><span class="w">
                </span><span class="nt">"protocol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"HTTP"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"timeoutSeconds"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/toggle"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"instances"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
        </span><span class="nt">"lastTaskFailure"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="err">//</span><span class="w"> </span><span class="err">soon</span><span class="w"> </span><span class="err">only</span><span class="w"> </span><span class="err">for</span><span class="w"> </span><span class="err">?embed=lastTaskFailure</span><span class="w">
            </span><span class="nt">"appId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/toggle"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"host"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10.141.141.10"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Abnormal executor termination"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TASK_FAILED"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"taskId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"toggle.cc427e60-5046-11e4-9e34-56847afe9799"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-09-12T23:23:41.711Z"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"version"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-09-12T23:28:21.737Z"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"mem"</span><span class="p">:</span><span class="w"> </span><span class="mf">32.0</span><span class="p">,</span><span class="w">
        </span><span class="nt">"ports"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="mi">10000</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="nt">"requirePorts"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nt">"storeUrls"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
        </span><span class="nt">"tasks"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="err">//</span><span class="w"> </span><span class="err">soon</span><span class="w"> </span><span class="err">only</span><span class="w"> </span><span class="err">for</span><span class="w"> </span><span class="err">?embed=tasks</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nt">"appId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/toggle"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"healthCheckResults"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                    </span><span class="p">{</span><span class="w">
                        </span><span class="nt">"alive"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
                        </span><span class="nt">"consecutiveFailures"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
                        </span><span class="nt">"firstSuccess"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-09-13T00:20:28.101Z"</span><span class="p">,</span><span class="w">
                        </span><span class="nt">"lastFailure"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
                        </span><span class="nt">"lastSuccess"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-09-13T00:25:07.506Z"</span><span class="p">,</span><span class="w">
                        </span><span class="nt">"taskId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"toggle.802df2ae-3ad4-11e4-a400-56847afe9799"</span><span class="w">
                    </span><span class="p">},</span><span class="w">
                    </span><span class="p">{</span><span class="w">
                        </span><span class="nt">"alive"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
                        </span><span class="nt">"consecutiveFailures"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
                        </span><span class="nt">"firstSuccess"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-09-13T00:20:28.101Z"</span><span class="p">,</span><span class="w">
                        </span><span class="nt">"lastFailure"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
                        </span><span class="nt">"lastSuccess"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-09-13T00:25:07.506Z"</span><span class="p">,</span><span class="w">
                        </span><span class="nt">"taskId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"toggle.802df2ae-3ad4-11e4-a400-56847afe9799"</span><span class="w">
                    </span><span class="p">}</span><span class="w">
                </span><span class="p">],</span><span class="w">
                </span><span class="nt">"host"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10.141.141.10"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"toggle.802df2ae-3ad4-11e4-a400-56847afe9799"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"ports"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                    </span><span class="mi">31045</span><span class="w">
                </span><span class="p">],</span><span class="w">
                </span><span class="nt">"stagedAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-09-12T23:28:28.594Z"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"startedAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-09-13T00:24:46.959Z"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"version"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-09-12T23:28:21.737Z"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nt">"appId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/toggle"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"healthCheckResults"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                    </span><span class="p">{</span><span class="w">
                        </span><span class="nt">"alive"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
                        </span><span class="nt">"consecutiveFailures"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
                        </span><span class="nt">"firstSuccess"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-09-13T00:20:28.101Z"</span><span class="p">,</span><span class="w">
                        </span><span class="nt">"lastFailure"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
                        </span><span class="nt">"lastSuccess"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-09-13T00:25:07.508Z"</span><span class="p">,</span><span class="w">
                        </span><span class="nt">"taskId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"toggle.7c99814d-3ad4-11e4-a400-56847afe9799"</span><span class="w">
                    </span><span class="p">},</span><span class="w">
                    </span><span class="p">{</span><span class="w">
                        </span><span class="nt">"alive"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
                        </span><span class="nt">"consecutiveFailures"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
                        </span><span class="nt">"firstSuccess"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-09-13T00:20:28.101Z"</span><span class="p">,</span><span class="w">
                        </span><span class="nt">"lastFailure"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
                        </span><span class="nt">"lastSuccess"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-09-13T00:25:07.506Z"</span><span class="p">,</span><span class="w">
                        </span><span class="nt">"taskId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"toggle.802df2ae-3ad4-11e4-a400-56847afe9799"</span><span class="w">
                    </span><span class="p">}</span><span class="w">
                </span><span class="p">],</span><span class="w">
                </span><span class="nt">"host"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10.141.141.10"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"toggle.7c99814d-3ad4-11e4-a400-56847afe9799"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"ports"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                    </span><span class="mi">31234</span><span class="w">
                </span><span class="p">],</span><span class="w">
                </span><span class="nt">"stagedAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-09-12T23:28:22.587Z"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"startedAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-09-13T00:24:46.965Z"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"version"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-09-12T23:28:21.737Z"</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="nt">"tasksRunning"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="err">//</span><span class="w"> </span><span class="err">soon</span><span class="w"> </span><span class="err">only</span><span class="w"> </span><span class="err">for</span><span class="w"> </span><span class="err">?embed=counts</span><span class="w">
        </span><span class="nt">"tasksHealthy"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="err">//</span><span class="w"> </span><span class="err">soon</span><span class="w"> </span><span class="err">only</span><span class="w"> </span><span class="err">for</span><span class="w"> </span><span class="err">?embed=counts</span><span class="w">
        </span><span class="nt">"tasksUnhealthy"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="err">//</span><span class="w"> </span><span class="err">soon</span><span class="w"> </span><span class="err">only</span><span class="w"> </span><span class="err">for</span><span class="w"> </span><span class="err">?embed=counts</span><span class="w">
        </span><span class="nt">"tasksStaged"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="err">//</span><span class="w"> </span><span class="err">soon</span><span class="w"> </span><span class="err">only</span><span class="w"> </span><span class="err">for</span><span class="w"> </span><span class="err">?embed=counts</span><span class="w">
        </span><span class="nt">"upgradeStrategy"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"minimumHealthCapacity"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.0</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"uris"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="s2">"http://downloads.mesosphere.com/misc/toggle.tgz"</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="nt">"user"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nt">"version"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-09-12T23:28:21.737Z"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"versionInfo"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"lastConfigChangeAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-09-11T02:26:01.135Z"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"lastScalingAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-09-12T23:28:21.737Z"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<h4 id="get-v2appsappidversions">GET <code class="highlighter-rouge">/v2/apps/{appId}/versions</code></h4>

<p>List the versions of the application with ID <code class="highlighter-rouge">appId</code>.</p>

<h5 id="example-7">Example</h5>

<p><strong>Request:</strong></p>

<div class="language-http highlighter-rouge"><pre class="highlight"><code><span class="nf">GET</span> <span class="nn">/v2/apps/my-app/versions</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Accept-Encoding</span><span class="p">:</span> <span class="s">gzip, deflate, compress</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json; charset=utf-8</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">localhost:8080</span>
<span class="na">User-Agent</span><span class="p">:</span> <span class="s">HTTPie/0.7.2</span>
</code></pre>
</div>

<p><strong>Response:</strong></p>

<div class="language-http highlighter-rouge"><pre class="highlight"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Server</span><span class="p">:</span> <span class="s">Jetty(8.y.z-SNAPSHOT)</span>
<span class="na">Transfer-Encoding</span><span class="p">:</span> <span class="s">chunked</span>

<span class="p">{</span><span class="w">
    </span><span class="nt">"versions"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"2014-04-04T06:25:31.399Z"</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<h4 id="get-v2appsappidversionsversion">GET <code class="highlighter-rouge">/v2/apps/{appId}/versions/{version}</code></h4>

<p>List the configuration of the application with ID <code class="highlighter-rouge">appId</code> at version <code class="highlighter-rouge">version</code>.</p>

<h5 id="example-8">Example</h5>

<p><strong>Request:</strong></p>

<div class="language-http highlighter-rouge"><pre class="highlight"><code><span class="nf">GET</span> <span class="nn">/v2/apps/my-app/versions/2014-03-01T23:17:50.295Z</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">*/*</span>
<span class="na">Accept-Encoding</span><span class="p">:</span> <span class="s">gzip, deflate, compress</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">localhost:8080</span>
<span class="na">User-Agent</span><span class="p">:</span> <span class="s">HTTPie/0.7.2</span>
</code></pre>
</div>

<p><strong>Response:</strong></p>

<div class="language-http highlighter-rouge"><pre class="highlight"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Server</span><span class="p">:</span> <span class="s">Jetty(8.y.z-SNAPSHOT)</span>
<span class="na">Transfer-Encoding</span><span class="p">:</span> <span class="s">chunked</span>

<span class="p">{</span><span class="w">
    </span><span class="nt">"cmd"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sleep 60"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"constraints"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
    </span><span class="nt">"container"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"cpus"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.1</span><span class="p">,</span><span class="w">
    </span><span class="nt">"env"</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w">
    </span><span class="nt">"executor"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"my-app"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"instances"</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w">
    </span><span class="nt">"mem"</span><span class="p">:</span><span class="w"> </span><span class="mf">5.0</span><span class="p">,</span><span class="w">
    </span><span class="nt">"ports"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="mi">18027</span><span class="p">,</span><span class="w">
        </span><span class="mi">13200</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nt">"uris"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"https://raw.github.com/mesosphere/marathon/master/README.md"</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nt">"version"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-03-01T23:17:50.295Z"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<h4 id="put-v2appsappid">PUT <code class="highlighter-rouge">/v2/apps/{appId}</code></h4>

<p>If application <code class="highlighter-rouge">appId</code> is running, then update the parameters; if it
is not running, create it.</p>

<p>The new application parameters apply only to subsequently created tasks.<br />
Currently running tasks are restarted while maintaining the 
<code class="highlighter-rouge">minimumHealthCapacity</code>.</p>

<h5 id="parameters-1">Parameters</h5>

<table class="table table-bordered">
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>force</code></td>
      <td><code>boolean</code></td>
      <td>If the app is affected by a running deployment, then the update
        operation will fail. The current deployment can be overridden by setting
        the `force` query parameter.
        Default: <code>false</code>.</td>
    </tr>
  </tbody>
</table>

<h5 id="example-9">Example</h5>

<p><strong>Request:</strong></p>

<div class="language-http highlighter-rouge"><pre class="highlight"><code><span class="nf">PUT</span> <span class="nn">/v2/apps/my-app</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Accept-Encoding</span><span class="p">:</span> <span class="s">gzip, deflate, compress</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">126</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json; charset=utf-8</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">localhost:8080</span>
<span class="na">User-Agent</span><span class="p">:</span> <span class="s">HTTPie/0.7.2</span>

<span class="p">{</span><span class="w">
    </span><span class="nt">"cmd"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sleep 55"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"constraints"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">[</span><span class="w">
            </span><span class="s2">"hostname"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"UNIQUE"</span><span class="p">,</span><span class="w">
            </span><span class="s2">""</span><span class="w">
        </span><span class="p">]</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nt">"cpus"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.3"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"instances"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"mem"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"ports"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="mi">9000</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p><strong>Response:</strong></p>

<div class="language-http highlighter-rouge"><pre class="highlight"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Server</span><span class="p">:</span> <span class="s">Jetty(8.y.z-SNAPSHOT)</span>
<span class="na">Transfer-Encoding</span><span class="p">:</span> <span class="s">chunked</span>

<span class="p">{</span><span class="w">
    </span><span class="nt">"deploymentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"83b215a6-4e26-4e44-9333-5c385eda6438"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"version"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-08-26T07:37:50.462Z"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<h5 id="example-version-rollback">Example (version rollback)</h5>

<p>If the <code class="highlighter-rouge">version</code> key is supplied in the JSON body, the rest of the object is ignored. If the supplied version is known, then the app is updated (a new version is created) with those parameters. Otherwise, if the supplied version is not known, Marathon responds with a 404.</p>

<p><strong>Request:</strong></p>

<div class="language-http highlighter-rouge"><pre class="highlight"><code><span class="nf">PUT</span> <span class="nn">/v2/apps/my-app</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Accept-Encoding</span><span class="p">:</span> <span class="s">gzip, deflate, compress</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">39</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json; charset=utf-8</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">localhost:8080</span>
<span class="na">User-Agent</span><span class="p">:</span> <span class="s">HTTPie/0.7.2</span>

<span class="p">{</span><span class="w">
    </span><span class="nt">"version"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-03-01T23:17:50.295Z"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<div class="language-http highlighter-rouge"><pre class="highlight"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Server</span><span class="p">:</span> <span class="s">Jetty(8.y.z-SNAPSHOT)</span>
<span class="na">Transfer-Encoding</span><span class="p">:</span> <span class="s">chunked</span>

<span class="p">{</span><span class="w">
    </span><span class="nt">"deploymentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"83b215a6-4e26-4e44-9333-5c385eda6438"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"version"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-08-26T07:37:50.462Z"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<h5 id="example-update-an-app-that-is-locked-by-a-running-deployment">Example (update an app that is locked by a running deployment)</h5>

<p>If the app is affected by a currently running deployment, then the
update operation fails. As indicated by the response message, the current
deployment can be overridden by setting the <code class="highlighter-rouge">force</code> query parameter in a
subsequent request.</p>

<p><strong>Request:</strong></p>

<div class="language-http highlighter-rouge"><pre class="highlight"><code><span class="nf">PUT</span> <span class="nn">/v2/apps/test</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Accept-Encoding</span><span class="p">:</span> <span class="s">gzip, deflate</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">18</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json; charset=utf-8</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">localhost:8080</span>
<span class="na">User-Agent</span><span class="p">:</span> <span class="s">HTTPie/0.8.0</span>

<span class="p">{</span><span class="w">
    </span><span class="nt">"instances"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<div class="language-http highlighter-rouge"><pre class="highlight"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">409</span> <span class="ne">Conflict</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Server</span><span class="p">:</span> <span class="s">Jetty(8.y.z-SNAPSHOT)</span>
<span class="na">Transfer-Encoding</span><span class="p">:</span> <span class="s">chunked</span>

<span class="p">{</span><span class="w">
    </span><span class="nt">"deployments"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5cd987cd-85ae-4e70-8df7-f1438367d9cb"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"App is locked by one or more deployments. Override with the option '?force=true'. View details at '/v2/deployments/&lt;DEPLOYMENT_ID&gt;'."</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<h4 id="post-v2appsappidrestart">POST <code class="highlighter-rouge">/v2/apps/{appId}/restart</code></h4>

<p>Initiates a rolling restart of all running tasks of the given app. This call respects the configured <code class="highlighter-rouge">minimumHealthCapacity</code>.</p>

<h5 id="parameters-2">Parameters</h5>

<table class="table table-bordered">
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>force</code></td>
      <td><code>boolean</code></td>
      <td>If the app is affected by a running deployment, then the update
        operation will fail. The current deployment can be overridden by setting
        the `force` query parameter.
        Default: <code>false</code>.</td>
    </tr>
  </tbody>
</table>

<h5 id="example-10">Example</h5>

<p><strong>Request:</strong></p>

<div class="language-http highlighter-rouge"><pre class="highlight"><code><span class="nf">POST</span> <span class="nn">/v2/apps/my-app/restart</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Accept-Encoding</span><span class="p">:</span> <span class="s">gzip, deflate, compress</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">0</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">localhost:8080</span>
<span class="na">User-Agent</span><span class="p">:</span> <span class="s">HTTPie/0.7.2</span>

</code></pre>
</div>

<p><strong>Response:</strong></p>

<div class="language-http highlighter-rouge"><pre class="highlight"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Server</span><span class="p">:</span> <span class="s">Jetty(8.y.z-SNAPSHOT)</span>
<span class="na">Transfer-Encoding</span><span class="p">:</span> <span class="s">chunked</span>

<span class="p">{</span><span class="w">
    </span><span class="nt">"deploymentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"83b215a6-4e26-4e44-9333-5c385eda6438"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"version"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-08-26T07:37:50.462Z"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<h4 id="delete-v2appsappid">DELETE <code class="highlighter-rouge">/v2/apps/{appId}</code></h4>

<p>Destroy an application. All data about that application will be deleted.</p>

<h5 id="example-11">Example</h5>

<p><strong>Request:</strong></p>

<div class="language-http highlighter-rouge"><pre class="highlight"><code><span class="nf">DELETE</span> <span class="nn">/v2/apps/my-app</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Accept-Encoding</span><span class="p">:</span> <span class="s">gzip, deflate, compress</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">0</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json; charset=utf-8</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">localhost:8080</span>
<span class="na">User-Agent</span><span class="p">:</span> <span class="s">HTTPie/0.7.2</span>
</code></pre>
</div>

<p><strong>Response:</strong></p>

<div class="language-http highlighter-rouge"><pre class="highlight"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Cache-Control</span><span class="p">:</span> <span class="s">no-cache, no-store, must-revalidate</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Expires</span><span class="p">:</span> <span class="s">0</span>
<span class="na">Pragma</span><span class="p">:</span> <span class="s">no-cache</span>
<span class="na">Server</span><span class="p">:</span> <span class="s">Jetty(8.1.15.v20140411)</span>
<span class="na">Transfer-Encoding</span><span class="p">:</span> <span class="s">chunked</span>

<span class="p">{</span><span class="w">
    </span><span class="nt">"deploymentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"14f48a7d-261e-4641-a158-8c5894c3116a"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"version"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-04-21T10:34:13.646Z"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<h4 id="get-v2appsappidtasks">GET <code class="highlighter-rouge">/v2/apps/{appId}/tasks</code></h4>

<p>List all running tasks for application <code class="highlighter-rouge">appId</code>.</p>

<h5 id="example-as-json">Example (as JSON)</h5>

<p><strong>Request:</strong></p>

<div class="language-http highlighter-rouge"><pre class="highlight"><code><span class="nf">GET</span> <span class="nn">/v2/apps/my-app/tasks</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Accept-Encoding</span><span class="p">:</span> <span class="s">gzip, deflate, compress</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json; charset=utf-8</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">localhost:8080</span>
<span class="na">User-Agent</span><span class="p">:</span> <span class="s">HTTPie/0.7.2</span>
</code></pre>
</div>

<p><strong>Response:</strong></p>

<div class="language-http highlighter-rouge"><pre class="highlight"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Server</span><span class="p">:</span> <span class="s">Jetty(8.y.z-SNAPSHOT)</span>
<span class="na">Transfer-Encoding</span><span class="p">:</span> <span class="s">chunked</span>

<span class="p">{</span><span class="w">
    </span><span class="nt">"tasks"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nt">"host"</span><span class="p">:</span><span class="w"> </span><span class="s2">"agouti.local"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"my-app_1-1396592790353"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"ports"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="mi">31336</span><span class="p">,</span><span class="w">
                </span><span class="mi">31337</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="nt">"stagedAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-04-04T06:26:30.355Z"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"startedAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-04-04T06:26:30.860Z"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"version"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-04-04T06:26:23.051Z"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nt">"host"</span><span class="p">:</span><span class="w"> </span><span class="s2">"agouti.local"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"my-app_0-1396592784349"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"ports"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="mi">31382</span><span class="p">,</span><span class="w">
                </span><span class="mi">31383</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="nt">"stagedAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-04-04T06:26:24.351Z"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"startedAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-04-04T06:26:24.919Z"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"version"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-04-04T06:26:23.051Z"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<h5 id="example-as-text">Example (as text)</h5>

<p><strong>Request:</strong></p>

<div class="language-http highlighter-rouge"><pre class="highlight"><code><span class="nf">GET</span> <span class="nn">/v2/apps/my-app/tasks</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">text/plain</span>
<span class="na">Accept-Encoding</span><span class="p">:</span> <span class="s">gzip, deflate, compress</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">localhost:8080</span>
<span class="na">User-Agent</span><span class="p">:</span> <span class="s">HTTPie/0.7.2</span>
</code></pre>
</div>

<p><strong>Response:</strong></p>

<div class="language-http highlighter-rouge"><pre class="highlight"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">text/plain</span>
<span class="na">Server</span><span class="p">:</span> <span class="s">Jetty(8.y.z-SNAPSHOT)</span>
<span class="na">Transfer-Encoding</span><span class="p">:</span> <span class="s">chunked</span>

my-app  19385 agouti.local:31336  agouti.local:31364  agouti.local:31382 
my-app  11186 agouti.local:31337  agouti.local:31365  agouti.local:31383 
</code></pre>
</div>

<h4 id="delete-v2appsappidtasks">DELETE <code class="highlighter-rouge">/v2/apps/{appId}/tasks</code></h4>

<p>Kill tasks that belong to the application <code class="highlighter-rouge">appId</code>.</p>

<h5 id="parameters-3">Parameters</h5>

<table class="table table-bordered">
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>host</code></td>
      <td><code>string</code></td>
      <td>Kill only those tasks running on host <code>host</code>.
        Default: <code>none</code>.</td>
    </tr>
    <tr>
      <td><code>scale</code></td>
      <td><code>boolean</code></td>
      <td>Scale the app down (i.e. decrement its <code>instances</code> setting
        by the number of tasks killed) after killing the specified tasks.
        Default: <code>false</code>.</td>
    </tr>
    <tr>
      <td><code>wipe</code></td>
      <td><code>boolean</code></td>
      <td>If <code>wipe=true</code> is specified and the app uses local persistent volumes, associated dynamic reservations will be unreserved, and persistent volumes will be destroyed. Only possible if <code>scale=false</code> or not specified.
        Default: <code>false</code>.</td>
    </tr>
  </tbody>
</table>

<h5 id="example-12">Example</h5>

<p><strong>Request:</strong></p>

<div class="language-http highlighter-rouge"><pre class="highlight"><code><span class="nf">DELETE</span> <span class="nn">/v2/apps/my-app/tasks?host=mesos.vm&amp;scale=false</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Accept-Encoding</span><span class="p">:</span> <span class="s">gzip, deflate, compress</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">0</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json; charset=utf-8</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">localhost:8080</span>
<span class="na">User-Agent</span><span class="p">:</span> <span class="s">HTTPie/0.7.2</span>
</code></pre>
</div>

<p><strong>Response:</strong></p>

<div class="language-http highlighter-rouge"><pre class="highlight"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Server</span><span class="p">:</span> <span class="s">Jetty(8.y.z-SNAPSHOT)</span>
<span class="na">Transfer-Encoding</span><span class="p">:</span> <span class="s">chunked</span>

<span class="p">{</span><span class="w">
    </span><span class="nt">"tasks"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<h4 id="delete-v2appsappidtaskstaskid">DELETE <code class="highlighter-rouge">/v2/apps/{appId}/tasks/{taskId}</code></h4>

<p>Kill the task with ID <code class="highlighter-rouge">taskId</code> that belongs to the application <code class="highlighter-rouge">appId</code>.</p>

<h5 id="parameters-4">Parameters</h5>

<table class="table table-bordered">
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>scale</code></td>
      <td><code>boolean</code></td>
      <td>Scale the app down (i.e. decrement its <code>instances</code> setting
        by the number of tasks killed) after killing the specified task.
        Only possible if <code>wipe=false</code> or not specified.
        Default: <code>false</code>.</td>
    </tr>
    <tr>
      <td><code>wipe</code></td>
      <td><code>boolean</code></td>
      <td>If <code>wipe=true</code> is specified and the app uses local persistent volumes, associated dynamic reservations will be unreserved, and persistent volumes will be destroyed. Only possible if <code>scale=false</code> or not specified.
        Default: <code>false</code>.</td>
    </tr>
  </tbody>
</table>

<h5 id="example-13">Example</h5>

<p><strong>Request:</strong></p>

<div class="language-http highlighter-rouge"><pre class="highlight"><code><span class="nf">DELETE</span> <span class="nn">/v2/apps/my-app/tasks/my-app_3-1389916890411</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Accept-Encoding</span><span class="p">:</span> <span class="s">gzip, deflate, compress</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">0</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json; charset=utf-8</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">localhost:8080</span>
<span class="na">User-Agent</span><span class="p">:</span> <span class="s">HTTPie/0.7.2</span>
</code></pre>
</div>

<p><strong>Response:</strong></p>

<div class="language-http highlighter-rouge"><pre class="highlight"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Server</span><span class="p">:</span> <span class="s">Jetty(8.y.z-SNAPSHOT)</span>
<span class="na">Transfer-Encoding</span><span class="p">:</span> <span class="s">chunked</span>

<span class="p">{</span><span class="w">
    </span><span class="nt">"task"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"host"</span><span class="p">:</span><span class="w"> </span><span class="s2">"mesos.vm"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"my-app_3-1389916890411"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"ports"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="mi">31509</span><span class="p">,</span><span class="w">
            </span><span class="mi">31510</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="nt">"stagedAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-01-17T00:01+0000"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"startedAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-01-17T00:01+0000"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<h3 id="groups">Groups</h3>

<h4 id="get-v2groups">GET <code class="highlighter-rouge">/v2/groups</code></h4>

<p>List all groups.</p>

<p><strong>Request:</strong></p>

<div class="language-http highlighter-rouge"><pre class="highlight"><code><span class="nf">GET</span> <span class="nn">/v2/groups</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">*/*</span>
<span class="na">Accept-Encoding</span><span class="p">:</span> <span class="s">gzip, deflate</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">mesos.vm:8080</span>
<span class="na">User-Agent</span><span class="p">:</span> <span class="s">HTTPie/0.8.0</span>
</code></pre>
</div>

<p><strong>Response:</strong></p>

<div class="language-http highlighter-rouge"><pre class="highlight"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Server</span><span class="p">:</span> <span class="s">Jetty(8.y.z-SNAPSHOT)</span>
<span class="na">Transfer-Encoding</span><span class="p">:</span> <span class="s">chunked</span>

<span class="p">{</span><span class="w">
    </span><span class="nt">"apps"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
    </span><span class="nt">"dependencies"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
    </span><span class="nt">"groups"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nt">"apps"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nt">"args"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
                    </span><span class="nt">"backoffFactor"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.15</span><span class="p">,</span><span class="w">
                    </span><span class="nt">"backoffSeconds"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
                    </span><span class="nt">"maxLaunchDelaySeconds"</span><span class="p">:</span><span class="w"> </span><span class="mi">3600</span><span class="p">,</span><span class="w">
                    </span><span class="nt">"cmd"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sleep 30"</span><span class="p">,</span><span class="w">
                    </span><span class="nt">"constraints"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
                    </span><span class="nt">"container"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
                    </span><span class="nt">"cpus"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.0</span><span class="p">,</span><span class="w">
                    </span><span class="nt">"dependencies"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
                    </span><span class="nt">"disk"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
                    </span><span class="nt">"env"</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w">
                    </span><span class="nt">"executor"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
                    </span><span class="nt">"healthChecks"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
                    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/test/app"</span><span class="p">,</span><span class="w">
                    </span><span class="nt">"instances"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
                    </span><span class="nt">"mem"</span><span class="p">:</span><span class="w"> </span><span class="mf">128.0</span><span class="p">,</span><span class="w">
                    </span><span class="nt">"ports"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                        </span><span class="mi">10000</span><span class="w">
                    </span><span class="p">],</span><span class="w">
                    </span><span class="nt">"requirePorts"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
                    </span><span class="nt">"storeUrls"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
                    </span><span class="nt">"upgradeStrategy"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                        </span><span class="nt">"minimumHealthCapacity"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.0</span><span class="w">
                    </span><span class="p">},</span><span class="w">
                    </span><span class="nt">"uris"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
                    </span><span class="nt">"user"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
                    </span><span class="nt">"version"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-08-28T01:05:40.586Z"</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="nt">"dependencies"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
            </span><span class="nt">"groups"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
            </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/test"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"version"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-08-28T01:09:46.212Z"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"version"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-08-28T01:09:46.212Z"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<h4 id="get-v2groupsgroupid">GET <code class="highlighter-rouge">/v2/groups/{groupId}</code></h4>

<p>List the group with the specified ID.</p>

<p><strong>Request:</strong></p>

<div class="language-http highlighter-rouge"><pre class="highlight"><code><span class="nf">GET</span> <span class="nn">/v2/groups/test</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">*/*</span>
<span class="na">Accept-Encoding</span><span class="p">:</span> <span class="s">gzip, deflate</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">mesos.vm:8080</span>
<span class="na">User-Agent</span><span class="p">:</span> <span class="s">HTTPie/0.8.0</span>
</code></pre>
</div>

<p><strong>Response:</strong></p>

<div class="language-http highlighter-rouge"><pre class="highlight"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Server</span><span class="p">:</span> <span class="s">Jetty(8.y.z-SNAPSHOT)</span>
<span class="na">Transfer-Encoding</span><span class="p">:</span> <span class="s">chunked</span>

<span class="p">{</span><span class="w">
    </span><span class="nt">"apps"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nt">"args"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="nt">"backoffFactor"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.15</span><span class="p">,</span><span class="w">
            </span><span class="nt">"backoffSeconds"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
            </span><span class="nt">"maxLaunchDelaySeconds"</span><span class="p">:</span><span class="w"> </span><span class="mi">3600</span><span class="p">,</span><span class="w">
            </span><span class="nt">"cmd"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sleep 30"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"constraints"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
            </span><span class="nt">"container"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="nt">"cpus"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.0</span><span class="p">,</span><span class="w">
            </span><span class="nt">"dependencies"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
            </span><span class="nt">"disk"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
            </span><span class="nt">"env"</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w">
            </span><span class="nt">"executor"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nt">"healthChecks"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
            </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/test/app"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"instances"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
            </span><span class="nt">"mem"</span><span class="p">:</span><span class="w"> </span><span class="mf">128.0</span><span class="p">,</span><span class="w">
            </span><span class="nt">"ports"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="mi">10000</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="nt">"requirePorts"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="nt">"storeUrls"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
            </span><span class="nt">"upgradeStrategy"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nt">"minimumHealthCapacity"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.0</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="nt">"uris"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
            </span><span class="nt">"user"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="nt">"version"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-08-28T01:05:40.586Z"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nt">"dependencies"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
    </span><span class="nt">"groups"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/test"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"version"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-08-28T01:09:46.212Z"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<h4 id="post-v2groups">POST <code class="highlighter-rouge">/v2/groups</code></h4>

<p>Create and start a new application group.
Application groups can contain other application groups.
An application group can either hold other groups or applications, but they cannot contain both.</p>

<p>The JSON format of a group resource is as follows:</p>

<div class="language-json highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"product"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"groups"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"service"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"groups"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
      </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"us-east"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"apps"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
        </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"app1"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"cmd"</span><span class="p">:</span><span class="w"> </span><span class="s2">"someExecutable"</span><span class="w">
      </span><span class="p">},</span><span class="w"> 
      </span><span class="p">{</span><span class="w">
        </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"app2"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"cmd"</span><span class="p">:</span><span class="w"> </span><span class="s2">"someOtherExecutable"</span><span class="w">
      </span><span class="p">}]</span><span class="w">
    </span><span class="p">}],</span><span class="w">
    </span><span class="nt">"dependencies"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"/product/database"</span><span class="p">,</span><span class="w"> </span><span class="s2">"../backend"</span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">],</span><span class="w">
</span><span class="nt">"version"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-03-01T23:29:30.158Z"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p>Since the deployment of the group can take a considerable amount of time, this endpoint returns immediately with a version.
The failure or success of the action is signalled via an event. There is a
<code class="highlighter-rouge">group_change_success</code> and <code class="highlighter-rouge">group_change_failed</code> event with the given version.</p>

<h3 id="example-14">Example</h3>

<p><strong>Request:</strong></p>

<div class="language-http highlighter-rouge"><pre class="highlight"><code><span class="nf">POST</span> <span class="nn">/v2/groups</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">User-Agent</span><span class="p">:</span> <span class="s">curl/7.35.0</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">localhost:8080</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">273</span>

<span class="p">{</span><span class="w">
  </span><span class="nt">"id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"product"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"apps"</span><span class="p">:[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"myapp"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"cmd"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ruby app2.rb"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"instances"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p><strong>Response:</strong></p>

<div class="language-http highlighter-rouge"><pre class="highlight"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">201</span> <span class="ne">Created</span>
<span class="na">Location</span><span class="p">:</span> <span class="s">http://localhost:8080/v2/groups/product</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Transfer-Encoding</span><span class="p">:</span> <span class="s">chunked</span>
<span class="na">Server</span><span class="p">:</span> <span class="s">Jetty(8.y.z-SNAPSHOT)</span>
<span class="na">{"version"</span><span class="p">:</span><span class="s">"2014-07-01T10:20:50.196Z"}</span>
</code></pre>
</div>

<p>Create and start a new application group.
Application groups can contain other application groups.
An application group can either hold other groups or applications, but they cannot contain both.</p>

<p>The JSON format of a group resource is as follows:</p>

<div class="language-json highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"product"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"groups"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"service"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"groups"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
      </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"us-east"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"apps"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
        </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"app1"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"cmd"</span><span class="p">:</span><span class="w"> </span><span class="s2">"someExecutable"</span><span class="w">
      </span><span class="p">},</span><span class="w"> 
      </span><span class="p">{</span><span class="w">
        </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"app2"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"cmd"</span><span class="p">:</span><span class="w"> </span><span class="s2">"someOtherExecutable"</span><span class="w">
      </span><span class="p">}]</span><span class="w">
    </span><span class="p">}],</span><span class="w">
    </span><span class="nt">"dependencies"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"/product/database"</span><span class="p">,</span><span class="w"> </span><span class="s2">"../backend"</span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">],</span><span class="w">
</span><span class="nt">"version"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-03-01T23:29:30.158Z"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p>Since the deployment of the group can take a considerable amount of time, this endpoint returns immediately with a version.
The failure or success of the action is signalled via an event. There is a
<code class="highlighter-rouge">group_change_success</code> and <code class="highlighter-rouge">group_change_failed</code> event with the given version.</p>

<h3 id="example-15">Example</h3>

<p><strong>Request:</strong></p>

<div class="language-http highlighter-rouge"><pre class="highlight"><code><span class="nf">POST</span> <span class="nn">/v2/groups</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">User-Agent</span><span class="p">:</span> <span class="s">curl/7.35.0</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">localhost:8080</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">273</span>

<span class="p">{</span><span class="w">
  </span><span class="nt">"id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"product"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"apps"</span><span class="p">:[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"myapp"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"cmd"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ruby app2.rb"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"instances"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p><strong>Response:</strong></p>

<div class="language-http highlighter-rouge"><pre class="highlight"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">201</span> <span class="ne">Created</span>
<span class="na">Location</span><span class="p">:</span> <span class="s">http://localhost:8080/v2/groups/product</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Transfer-Encoding</span><span class="p">:</span> <span class="s">chunked</span>
<span class="na">Server</span><span class="p">:</span> <span class="s">Jetty(8.y.z-SNAPSHOT)</span>
<span class="na">{"version"</span><span class="p">:</span><span class="s">"2014-07-01T10:20:50.196Z"}</span>
</code></pre>
</div>

<h4 id="put-v2groupsgroupid">PUT <code class="highlighter-rouge">/v2/groups/{groupId}</code></h4>

<p>Change parameters of a deployed application group.</p>

<ul>
  <li>Changes to application parameters will result in a restart of this application.</li>
  <li>A new application added to the group is started.</li>
  <li>An existing application removed from the group gets stopped.</li>
</ul>

<p>If there are no changes to the application definition, no restart is triggered.
During restart, Marathon ensures that the configured amount of minimal running instances are <em>always</em> available.</p>

<p>A deployment can run forever. This can happen when a new application has a problem and does not become healthy.
In this case, human interaction is needed with 2 possible choices:</p>

<ul>
  <li>Roll back to an existing older version (send an existing <code class="highlighter-rouge">version</code> in the body).</li>
  <li>Update with a newer version of the group that does not have the problems of the old one.</li>
</ul>

<p>If there is an upgrade process already in progress, a new update will be rejected unless the force flag is set.
With the force flag given, a running upgrade is terminated and a new one is started.</p>

<p>Since the deployment of the group can take a considerable amount of time, this endpoint returns immediately with a version.
The failure or success of the action is signalled via an event. There is a
<code class="highlighter-rouge">group_change_success</code> and <code class="highlighter-rouge">group_change_failed</code> event with the given version.</p>

<h3 id="example-16">Example</h3>

<p><strong>Request:</strong></p>

<div class="language-http highlighter-rouge"><pre class="highlight"><code><span class="nf">PUT</span> <span class="nn">/v2/groups/test/project</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Accept-Encoding</span><span class="p">:</span> <span class="s">gzip, deflate</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">541</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json; charset=utf-8</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">mesos.vm:8080</span>
<span class="na">User-Agent</span><span class="p">:</span> <span class="s">HTTPie/0.8.0</span>

<span class="p">{</span><span class="w">
    </span><span class="nt">"apps"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nt">"cmd"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ruby app2.rb"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"constraints"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
            </span><span class="nt">"container"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="nt">"cpus"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.2</span><span class="p">,</span><span class="w">
            </span><span class="nt">"env"</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w">
            </span><span class="nt">"executor"</span><span class="p">:</span><span class="w"> </span><span class="s2">"//cmd"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"healthChecks"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nt">"initialDelaySeconds"</span><span class="p">:</span><span class="w"> </span><span class="mi">15</span><span class="p">,</span><span class="w">
                    </span><span class="nt">"intervalSeconds"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
                    </span><span class="nt">"path"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/health"</span><span class="p">,</span><span class="w">
                    </span><span class="nt">"portIndex"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
                    </span><span class="nt">"protocol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"HTTP"</span><span class="p">,</span><span class="w">
                    </span><span class="nt">"timeoutSeconds"</span><span class="p">:</span><span class="w"> </span><span class="mi">15</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"app"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"instances"</span><span class="p">:</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w">
            </span><span class="nt">"mem"</span><span class="p">:</span><span class="w"> </span><span class="mf">128.0</span><span class="p">,</span><span class="w">
            </span><span class="nt">"ports"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="mi">19970</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="nt">"uris"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<div class="language-http highlighter-rouge"><pre class="highlight"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Server</span><span class="p">:</span> <span class="s">Jetty(8.y.z-SNAPSHOT)</span>
<span class="na">Transfer-Encoding</span><span class="p">:</span> <span class="s">chunked</span>

<span class="p">{</span><span class="w">
    </span><span class="nt">"deploymentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"c0e7434c-df47-4d23-99f1-78bd78662231"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"version"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-08-28T16:45:41.063Z"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<h3 id="example-17">Example</h3>

<p>Scale a group.</p>

<p>The scaling affects apps directly in the group as well as all transitive applications referenced by subgroups of this group.
The scaling factor is applied to each individual instance count of each application.</p>

<p>Since the deployment of the group can take a considerable amount of time, this endpoint returns immediately with a version.
The failure or success of the action is signalled via an event. There is a
<code class="highlighter-rouge">group_change_success</code> and <code class="highlighter-rouge">group_change_failed</code> event with the given version.</p>

<p><strong>Request:</strong></p>

<div class="language-http highlighter-rouge"><pre class="highlight"><code><span class="nf">PUT</span> <span class="nn">/v2/groups/product/service</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">123</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">localhost:8080</span>
<span class="na">User-Agent</span><span class="p">:</span> <span class="s">HTTPie/0.7.2</span>
<span class="s">{ "scaleBy": 1.5 }</span>
</code></pre>
</div>

<p><strong>Response:</strong></p>

<div class="language-http highlighter-rouge"><pre class="highlight"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Server</span><span class="p">:</span> <span class="s">Jetty(8.y.z-SNAPSHOT)</span>
<span class="na">Transfer-Encoding</span><span class="p">:</span> <span class="s">chunked</span>

<span class="p">{</span><span class="w">
    </span><span class="nt">"deploymentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"c0e7434c-df47-4d23-99f1-78bd78662231"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"version"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-08-28T16:45:41.063Z"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<h3 id="example-18">Example</h3>

<p>Roll back a group.</p>

<p>In case of an erroneous update, a group can be rolled back by sending just a version that is known to work to the update
endpoint.</p>

<p><strong>Request:</strong></p>

<div class="language-http highlighter-rouge"><pre class="highlight"><code><span class="nf">PUT</span> <span class="nn">/v2/groups/product/service</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">123</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">localhost:8080</span>
<span class="na">User-Agent</span><span class="p">:</span> <span class="s">HTTPie/0.7.2</span>
<span class="s">{ "version": "2014-08-27T15:34:48.163Z" }</span>
</code></pre>
</div>

<p><strong>Response:</strong></p>

<div class="language-http highlighter-rouge"><pre class="highlight"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Server</span><span class="p">:</span> <span class="s">Jetty(8.y.z-SNAPSHOT)</span>
<span class="na">Transfer-Encoding</span><span class="p">:</span> <span class="s">chunked</span>

<span class="p">{</span><span class="w">
    </span><span class="nt">"deploymentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"c0e7434c-df47-4d23-99f1-78bd78662231"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"version"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-08-28T16:45:41.063Z"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<h3 id="example-19">Example</h3>

<p>Deployment dry run.</p>

<p>Get a preview of the deployment steps Marathon would run for a given group update.</p>

<p><strong>Request:</strong></p>

<div class="language-http highlighter-rouge"><pre class="highlight"><code><span class="nf">PUT</span> <span class="nn">/v2/groups/product?dryRun=true</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">*/*</span>
<span class="na">Accept-Encoding</span><span class="p">:</span> <span class="s">gzip, deflate</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">mesos.vm:8080</span>
<span class="na">User-Agent</span><span class="p">:</span> <span class="s">HTTPie/0.8.0</span>

<span class="p">{</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"product"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"groups"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
        </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"service"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"groups"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
            </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"us-east"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"apps"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"app1"</span><span class="p">,</span><span class="w">
                    </span><span class="nt">"cmd"</span><span class="p">:</span><span class="w"> </span><span class="s2">"someExecutable"</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"app2"</span><span class="p">,</span><span class="w">
                    </span><span class="nt">"cmd"</span><span class="p">:</span><span class="w"> </span><span class="s2">"someOtherExecutable"</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">]</span><span class="w">
        </span><span class="p">}],</span><span class="w">
        </span><span class="nt">"dependencies"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"/product/database"</span><span class="p">,</span><span class="w"> </span><span class="s2">"../backend"</span><span class="p">]</span><span class="w">
    </span><span class="p">}],</span><span class="w">
    </span><span class="nt">"version"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-03-01T23:29:30.158Z"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p><strong>Response:</strong></p>

<div class="language-http highlighter-rouge"><pre class="highlight"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Server</span><span class="p">:</span> <span class="s">Jetty(8.y.z-SNAPSHOT)</span>
<span class="na">Transfer-Encoding</span><span class="p">:</span> <span class="s">chunked</span>

<span class="p">{</span><span class="w">
    </span><span class="nt">"steps"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nt">"actions"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nt">"app"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"app1"</span><span class="p">,</span><span class="w">
                    </span><span class="nt">"type"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"StartApplication"</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nt">"app"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"app2"</span><span class="p">,</span><span class="w">
                    </span><span class="nt">"type"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"StartApplication"</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">]</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nt">"actions"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nt">"type"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"ScaleApplication"</span><span class="p">,</span><span class="w">
                    </span><span class="nt">"app"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"app1"</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">]</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nt">"actions"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nt">"app"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"app2"</span><span class="p">,</span><span class="w">
                    </span><span class="nt">"type"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"ScaleApplication"</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">]</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<h4 id="delete-v2groupsgroupid">DELETE <code class="highlighter-rouge">/v2/groups/{groupId}</code></h4>

<p>Destroy a group. All data about that group and all associated applications will be deleted.</p>

<p>Since the deployment of the group can take a considerable amount of time, this endpoint returns immediately with a version.
The failure or success of the action is signalled via an event. There is a
<code class="highlighter-rouge">group_change_success</code> and <code class="highlighter-rouge">group_change_failed</code> event with the given version.</p>

<p><strong>Request:</strong></p>

<div class="language-http highlighter-rouge"><pre class="highlight"><code><span class="nf">DELETE</span> <span class="nn">/v2/groups/product/service/app</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Accept-Encoding</span><span class="p">:</span> <span class="s">gzip, deflate, compress</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">0</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json; charset=utf-8</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">localhost:8080</span>
<span class="na">User-Agent</span><span class="p">:</span> <span class="s">curl/7.35.0</span>
</code></pre>
</div>

<p><strong>Response:</strong></p>

<div class="language-http highlighter-rouge"><pre class="highlight"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">Ok</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Transfer-Encoding</span><span class="p">:</span> <span class="s">chunked</span>
<span class="na">Server</span><span class="p">:</span> <span class="s">Jetty(8.y.z-SNAPSHOT)</span>
<span class="na">{"version"</span><span class="p">:</span><span class="s">"2014-07-01T10:20:50.196Z"}</span>
</code></pre>
</div>

<h3 id="tasks">Tasks</h3>

<h4 id="get-v2tasks">GET <code class="highlighter-rouge">/v2/tasks</code></h4>

<p>List tasks of all applications.</p>

<h5 id="parameters-5">Parameters</h5>

<table class="table table-bordered">
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>status</code></td>
      <td><code>string</code></td>
      <td>Return only those tasks whose <code>status</code> matches this
        parameter. If not specified, all tasks are returned. Possible values:
        <code>running</code>, <code>staging</code>. Default: <code>none</code>.</td>
    </tr>
  </tbody>
</table>

<h5 id="example-as-json-1">Example (as JSON)</h5>

<p><strong>Request:</strong></p>

<div class="language-http highlighter-rouge"><pre class="highlight"><code><span class="nf">GET</span> <span class="nn">/v2/tasks</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Accept-Encoding</span><span class="p">:</span> <span class="s">gzip, deflate</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json; charset=utf-8</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">mesos.vm:8080</span>
<span class="na">User-Agent</span><span class="p">:</span> <span class="s">HTTPie/0.8.0</span>
</code></pre>
</div>

<p><strong>Response:</strong></p>

<div class="language-http highlighter-rouge"><pre class="highlight"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Server</span><span class="p">:</span> <span class="s">Jetty(8.y.z-SNAPSHOT)</span>
<span class="na">Transfer-Encoding</span><span class="p">:</span> <span class="s">chunked</span>

<span class="p">{</span><span class="w">
    </span><span class="nt">"tasks"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nt">"appId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/bridged-webapp"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"healthCheckResults"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nt">"alive"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
                    </span><span class="nt">"consecutiveFailures"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
                    </span><span class="nt">"firstSuccess"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-10-03T22:57:02.246Z"</span><span class="p">,</span><span class="w">
                    </span><span class="nt">"lastFailure"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
                    </span><span class="nt">"lastSuccess"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-10-03T22:57:41.643Z"</span><span class="p">,</span><span class="w">
                    </span><span class="nt">"taskId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bridged-webapp.eb76c51f-4b4a-11e4-ae49-56847afe9799"</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="nt">"host"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10.141.141.10"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bridged-webapp.eb76c51f-4b4a-11e4-ae49-56847afe9799"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"ports"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="mi">31000</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="nt">"servicePorts"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="mi">9000</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="nt">"stagedAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-10-03T22:16:27.811Z"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"startedAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-10-03T22:57:41.587Z"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"version"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-10-03T22:16:23.634Z"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nt">"appId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/bridged-webapp"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"healthCheckResults"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nt">"alive"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
                    </span><span class="nt">"consecutiveFailures"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
                    </span><span class="nt">"firstSuccess"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-10-03T22:57:02.246Z"</span><span class="p">,</span><span class="w">
                    </span><span class="nt">"lastFailure"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
                    </span><span class="nt">"lastSuccess"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-10-03T22:57:41.649Z"</span><span class="p">,</span><span class="w">
                    </span><span class="nt">"taskId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bridged-webapp.ef0b5d91-4b4a-11e4-ae49-56847afe9799"</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="nt">"host"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10.141.141.10"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bridged-webapp.ef0b5d91-4b4a-11e4-ae49-56847afe9799"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"ports"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="mi">31001</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="nt">"servicePorts"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="mi">9000</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="nt">"stagedAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-10-03T22:16:33.814Z"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"startedAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-10-03T22:57:41.593Z"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"version"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-10-03T22:16:23.634Z"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre>
</div>

<h5 id="example-as-text-1">Example (as text)</h5>

<p>In text/plain, only tasks with status <code class="highlighter-rouge">running</code> will be returned.</p>

<p><strong>Request:</strong></p>

<div class="language-http highlighter-rouge"><pre class="highlight"><code><span class="nf">GET</span> <span class="nn">/v2/tasks</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">text/plain</span>
<span class="na">Accept-Encoding</span><span class="p">:</span> <span class="s">gzip, deflate, compress</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">localhost:8080</span>
<span class="na">User-Agent</span><span class="p">:</span> <span class="s">HTTPie/0.7.2</span>
</code></pre>
</div>

<p><strong>Response:</strong></p>

<div class="language-http highlighter-rouge"><pre class="highlight"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">text/plain</span>
<span class="na">Server</span><span class="p">:</span> <span class="s">Jetty(8.y.z-SNAPSHOT)</span>
<span class="na">Transfer-Encoding</span><span class="p">:</span> <span class="s">chunked</span>

my-app  19385 agouti.local:31336  agouti.local:31364  agouti.local:31382 
my-app2  11186 agouti.local:31337  agouti.local:31365  agouti.local:31383 
</code></pre>
</div>

<h4 id="post-v2tasksdelete">POST <code class="highlighter-rouge">/v2/tasks/delete</code></h4>

<p>Kill the given list of tasks and scale apps if requested.</p>

<h5 id="parameters-6">Parameters</h5>

<table class="table table-bordered">
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>scale</code></td>
      <td><code>boolean</code></td>
      <td>Scale the app down (i.e. decrement its <code>instances</code> setting
        by the number of tasks killed) after killing the specified tasks. Only possible if <code>wipe=false</code> or not specified.
        Default: <code>false</code>.</td>
    </tr>
    <tr>
      <td><code>wipe</code></td>
      <td><code>boolean</code></td>
      <td>If <code>wipe=true</code> is specified and the app uses local persistent volumes, associated dynamic reservations will be unreserved and persistent volumes will be destroyed. Only possible if <code>scale=false</code> or not specified.
        Default: <code>false</code>.</td>
    </tr>
  </tbody>
</table>

<h5 id="example-as-json-2">Example (as JSON)</h5>

<p><strong>Request:</strong></p>

<div class="language-http highlighter-rouge"><pre class="highlight"><code><span class="nf">POST</span> <span class="nn">/v2/tasks/delete</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Accept-Encoding</span><span class="p">:</span> <span class="s">gzip, deflate</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json; charset=utf-8</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">mesos.vm:8080</span>
<span class="na">User-Agent</span><span class="p">:</span> <span class="s">HTTPie/0.8.0</span>
<span class="s">{</span>
<span class="s">    "ids": [</span>
<span class="s">        "task.25ab260e-b5ec-11e4-a4f4-685b35c8a22e",</span>
<span class="s">        "task.5e7b39d4-b5f0-11e4-8021-685b35c8a22e",</span>
<span class="s">        "task.a21cb64a-b5eb-11e4-a4f4-685b35c8a22e"</span>
<span class="s">    ]</span>
<span class="s">}</span>

</code></pre>
</div>

<p><strong>Response:</strong></p>

<div class="language-http highlighter-rouge"><pre class="highlight"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">0</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Server</span><span class="p">:</span> <span class="s">Jetty(8.y.z-SNAPSHOT)</span>
</code></pre>
</div>

<h3 id="deployments">Deployments</h3>

<p><span class="label label-default">v0.7.0</span></p>

<h4 id="get-v2deployments">GET <code class="highlighter-rouge">/v2/deployments</code></h4>

<p>List all running deployments.
A deployment is a change in the service setup.</p>

<p>A deployment is identified by an id, affects a set of applications and is composed of deployment steps.
Every step contains a list of actions with following types:</p>

<ul>
  <li>StartApplication: starts an application, which is currently not running.</li>
  <li>StopApplication: stops an already running application.</li>
  <li>ScaleApplication: changes the number of instances of an application and allows to kill specified instances while scaling.</li>
  <li>RestartApplication: upgrades an already deployed application with a new version.</li>
  <li>KillAllOldTasksOf: last step of a restart action.</li>
</ul>

<h5 id="example-20">Example</h5>

<p><strong>Request:</strong></p>

<div class="language-http highlighter-rouge"><pre class="highlight"><code><span class="nf">GET</span> <span class="nn">/v2/deployments</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json; charset=utf-8</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">localhost:8080</span>
</code></pre>
</div>

<p><strong>Response:</strong></p>

<div class="language-http highlighter-rouge"><pre class="highlight"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Transfer-Encoding</span><span class="p">:</span> <span class="s">chunked</span>

<span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="nt">"affectedApps"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="s2">"/test/service/srv1"</span><span class="p">,</span><span class="w"> 
            </span><span class="s2">"/test/db/mongo1"</span><span class="p">,</span><span class="w"> 
            </span><span class="s2">"/test/frontend/app1"</span><span class="w">
        </span><span class="p">],</span><span class="w"> 
        </span><span class="nt">"currentStep"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
        </span><span class="nt">"currentActions"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="p">{</span><span class="w">
              </span><span class="nt">"action"</span><span class="p">:</span><span class="w"> </span><span class="s2">"RestartApplication"</span><span class="p">,</span><span class="w"> 
              </span><span class="nt">"app"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/test/frontend/app1"</span><span class="p">,</span><span class="w">
              </span><span class="nt">"readinessChecks"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                  </span><span class="p">{</span><span class="w">
                      </span><span class="nt">"lastResponse"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                          </span><span class="nt">"body"</span><span class="p">:</span><span class="w"> </span><span class="s2">"{}"</span><span class="p">,</span><span class="w"> 
                          </span><span class="nt">"contentType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"application/json"</span><span class="p">,</span><span class="w"> 
                          </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">500</span><span class="w">
                      </span><span class="p">},</span><span class="w"> 
                      </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"myReadyCheck"</span><span class="p">,</span><span class="w"> 
                      </span><span class="nt">"ready"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w"> 
                      </span><span class="nt">"taskId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"test_frontend_app1.c9de6033"</span><span class="w">
                  </span><span class="p">}</span><span class="w">
              </span><span class="p">]</span><span class="w">

          </span><span class="p">}</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="nt">"totalSteps"</span><span class="p">:</span><span class="w"> </span><span class="mi">9</span><span class="p">,</span><span class="w">
        </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2e72dbf1-2b2a-4204-b628-e8bd160945dd"</span><span class="p">,</span><span class="w"> 
        </span><span class="nt">"steps"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nt">"actions"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                    </span><span class="p">{</span><span class="w">
                        </span><span class="nt">"action"</span><span class="p">:</span><span class="w"> </span><span class="s2">"RestartApplication"</span><span class="p">,</span><span class="w"> 
                        </span><span class="nt">"app"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/test/service/srv1"</span><span class="w">
                    </span><span class="p">}</span><span class="w">
                </span><span class="p">]</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nt">"actions"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                    </span><span class="p">{</span><span class="w">
                        </span><span class="nt">"action"</span><span class="p">:</span><span class="w"> </span><span class="s2">"RestartApplication"</span><span class="p">,</span><span class="w"> 
                        </span><span class="nt">"app"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/test/db/mongo1"</span><span class="w">
                    </span><span class="p">}</span><span class="w">
                </span><span class="p">]</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nt">"actions"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                    </span><span class="p">{</span><span class="w">
                        </span><span class="nt">"action"</span><span class="p">:</span><span class="w"> </span><span class="s2">"RestartApplication"</span><span class="p">,</span><span class="w"> 
                        </span><span class="nt">"app"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/test/frontend/app1"</span><span class="w">
                    </span><span class="p">}</span><span class="w">
                </span><span class="p">]</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nt">"actions"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                    </span><span class="p">{</span><span class="w">
                        </span><span class="nt">"action"</span><span class="p">:</span><span class="w"> </span><span class="s2">"KillAllOldTasksOf"</span><span class="p">,</span><span class="w"> 
                        </span><span class="nt">"app"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/test/frontend/app1"</span><span class="w">
                    </span><span class="p">}</span><span class="w">
                </span><span class="p">]</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nt">"actions"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                    </span><span class="p">{</span><span class="w">
                        </span><span class="nt">"action"</span><span class="p">:</span><span class="w"> </span><span class="s2">"KillAllOldTasksOf"</span><span class="p">,</span><span class="w"> 
                        </span><span class="nt">"app"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/test/db/mongo1"</span><span class="w">
                    </span><span class="p">}</span><span class="w">
                </span><span class="p">]</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nt">"actions"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                    </span><span class="p">{</span><span class="w">
                        </span><span class="nt">"action"</span><span class="p">:</span><span class="w"> </span><span class="s2">"KillAllOldTasksOf"</span><span class="p">,</span><span class="w"> 
                        </span><span class="nt">"app"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/test/service/srv1"</span><span class="w">
                    </span><span class="p">}</span><span class="w">
                </span><span class="p">]</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nt">"actions"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                    </span><span class="p">{</span><span class="w">
                        </span><span class="nt">"action"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ScaleApplication"</span><span class="p">,</span><span class="w"> 
                        </span><span class="nt">"app"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/test/service/srv1"</span><span class="w">
                    </span><span class="p">}</span><span class="w">
                </span><span class="p">]</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nt">"actions"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                    </span><span class="p">{</span><span class="w">
                        </span><span class="nt">"action"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ScaleApplication"</span><span class="p">,</span><span class="w"> 
                        </span><span class="nt">"app"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/test/db/mongo1"</span><span class="w">
                    </span><span class="p">}</span><span class="w">
                </span><span class="p">]</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nt">"actions"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                    </span><span class="p">{</span><span class="w">
                        </span><span class="nt">"action"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ScaleApplication"</span><span class="p">,</span><span class="w"> 
                        </span><span class="nt">"app"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/test/frontend/app1"</span><span class="w">
                    </span><span class="p">}</span><span class="w">
                </span><span class="p">]</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">],</span><span class="w"> 
        </span><span class="nt">"version"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-07-09T11:14:11.477Z"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>
</div>

<h4 id="delete-v2deploymentsdeploymentid">DELETE <code class="highlighter-rouge">/v2/deployments/{deploymentId}</code></h4>

<h5 id="parameters-7">Parameters</h5>

<table class="table table-bordered">
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>force</code></td>
      <td><code>boolean</code></td>
      <td>
        If set to <code>false</code> (the default) then the deployment is
        canceled and a new deployment is created to revert the changes of this
        deployment. Without concurrent deployments, this restores the configuration before this
        deployment. If set to <code>true</code>, then the deployment
        is still canceled but no rollback deployment is created.
        Default: <code>false</code>.</td>
    </tr>
  </tbody>
</table>

<h5 id="example-21">Example</h5>

<p>Revert the deployment with <code class="highlighter-rouge">deploymentId</code> by creating a new deployment which reverses
all changes.</p>

<p><strong>Request:</strong></p>

<div class="language-http highlighter-rouge"><pre class="highlight"><code><span class="nf">DELETE</span> <span class="nn">/v2/deployments/867ed450-f6a8-4d33-9b0e-e11c5513990b</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">*/*</span>
<span class="na">Accept-Encoding</span><span class="p">:</span> <span class="s">gzip, deflate</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">0</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">mesos.vm:8080</span>
<span class="na">User-Agent</span><span class="p">:</span> <span class="s">HTTPie/0.8.0</span>
</code></pre>
</div>

<p><strong>Response:</strong></p>

<div class="language-http highlighter-rouge"><pre class="highlight"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Server</span><span class="p">:</span> <span class="s">Jetty(8.y.z-SNAPSHOT)</span>
<span class="na">Transfer-Encoding</span><span class="p">:</span> <span class="s">chunked</span>

<span class="p">{</span><span class="w">
    </span><span class="nt">"deploymentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0b1467fc-d5cd-4bbc-bac2-2805351cee1e"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"version"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-08-26T08:20:26.171Z"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<h5 id="example-22">Example</h5>

<p>Cancel the deployment with <code class="highlighter-rouge">deploymentId</code>, and do not create a new rollback deployment.</p>

<p><strong>Request:</strong></p>

<div class="language-http highlighter-rouge"><pre class="highlight"><code><span class="nf">DELETE</span> <span class="nn">/v2/deployments/177b7556-1287-4e09-8432-3d862981a987?force=true</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">*/*</span>
<span class="na">Accept-Encoding</span><span class="p">:</span> <span class="s">gzip, deflate</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">0</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">mesos.vm:8080</span>
<span class="na">User-Agent</span><span class="p">:</span> <span class="s">HTTPie/0.8.0</span>
</code></pre>
</div>

<p><strong>Response:</strong></p>

<div class="language-http highlighter-rouge"><pre class="highlight"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">202</span> <span class="ne">Accepted</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">0</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Server</span><span class="p">:</span> <span class="s">Jetty(8.y.z-SNAPSHOT)</span>
</code></pre>
</div>

<h3 id="event-stream">Event Stream</h3>

<p><span class="label label-default">v0.9.0</span></p>

<h4 id="get-v2events">GET <code class="highlighter-rouge">/v2/events</code></h4>

<p>Attach to the Marathon event stream.</p>

<p>To use this endpoint, the client has to accept the text/event-stream content type.
<strong>Note:</strong> A request to this endpoint will not be closed by the server.
If an event happens on the server side, this event will be propagated to the client immediately.
See <a href="http://www.w3schools.com/html/html5_serversentevents.asp">Server Sent Events</a> for a more detailed explanation.</p>

<p><strong>Request:</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code>GET /v2/events HTTP/1.1
Accept: text/event-stream
Accept-Encoding: gzip, deflate
Host: localhost:8080
User-Agent: HTTPie/0.8.0
</code></pre>
</div>

<p><strong>Response:</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code>HTTP/1.1 200 OK
Cache-Control: no-cache, no-store, must-revalidate
Connection: close
Content-Type: text/event-stream;charset=UTF-8
Expires: 0
Pragma: no-cache
Server: Jetty(8.1.15.v20140411)

</code></pre>
</div>

<p>If an event happens on the server side, it is sent as plain JSON prepended with the mandatory <code class="highlighter-rouge">data:</code> field.</p>

<p><strong>Response:</strong>
```
data: {“remoteAddress”:”96.23.11.158”,”eventType”:”event_stream_attached”,”timestamp”:”2015-04-28T12:14:57.812Z”}</p>

<p>data: {“groupId”:”/”,”version”:”2015-04-28T12:24:12.098Z”,”eventType”:”group_change_success”,”timestamp”:”2015-04-28T12:24:12.224Z”}
```</p>

<h3 id="event-subscriptions">Event Subscriptions</h3>

<h4 id="post-v2eventsubscriptions">POST /v2/eventSubscriptions</h4>

<p>Register a callback URL as an event subscriber.</p>

<p>NOTE: To activate this endpoint, you need to start Marathon with <code class="highlighter-rouge">--event_subscriber http_callback</code>.</p>

<h5 id="parameters-8">Parameters</h5>

<table class="table table-bordered">
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>callbackUrl</code></td>
      <td><code>string</code></td>
      <td>URL to which events should be posted. <strong>Required.</strong></td>
    </tr>
  </tbody>
</table>

<p><strong>Request:</strong></p>

<div class="language-http highlighter-rouge"><pre class="highlight"><code><span class="nf">POST</span> <span class="nn">/v2/eventSubscriptions?callbackUrl=http://localhost:9292/callback</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Accept-Encoding</span><span class="p">:</span> <span class="s">gzip, deflate, compress</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">0</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json; charset=utf-8</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">localhost:8080</span>
<span class="na">User-Agent</span><span class="p">:</span> <span class="s">HTTPie/0.7.2</span>
</code></pre>
</div>

<p><strong>Response:</strong></p>

<div class="language-http highlighter-rouge"><pre class="highlight"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Server</span><span class="p">:</span> <span class="s">Jetty(8.y.z-SNAPSHOT)</span>
<span class="na">Transfer-Encoding</span><span class="p">:</span> <span class="s">chunked</span>

<span class="p">{</span><span class="w">
    </span><span class="nt">"callbackUrl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://localhost:9292/callback"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"clientIp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0:0:0:0:0:0:0:1"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"eventType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"subscribe_event"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<h4 id="get-v2eventsubscriptions">GET <code class="highlighter-rouge">/v2/eventSubscriptions</code></h4>

<p>List all event subscriber callback URLs.</p>

<p>NOTE: To activate this endpoint, you need to start Marathon with <code class="highlighter-rouge">--event_subscriber http_callback</code>.</p>

<h5 id="example-23">Example</h5>

<p><strong>Request:</strong></p>

<div class="language-http highlighter-rouge"><pre class="highlight"><code><span class="nf">GET</span> <span class="nn">/v2/eventSubscriptions</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Accept-Encoding</span><span class="p">:</span> <span class="s">gzip, deflate, compress</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json; charset=utf-8</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">localhost:8080</span>
<span class="na">User-Agent</span><span class="p">:</span> <span class="s">HTTPie/0.7.2</span>
</code></pre>
</div>

<p><strong>Response:</strong></p>

<div class="language-http highlighter-rouge"><pre class="highlight"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Server</span><span class="p">:</span> <span class="s">Jetty(8.y.z-SNAPSHOT)</span>
<span class="na">Transfer-Encoding</span><span class="p">:</span> <span class="s">chunked</span>

<span class="p">{</span><span class="w">
    </span><span class="nt">"callbackUrls"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"http://localhost:9292/callback"</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<h4 id="delete-v2eventsubscriptions">DELETE <code class="highlighter-rouge">/v2/eventSubscriptions</code></h4>

<p>Unregister a callback URL from the event subscribers list.</p>

<p>NOTE: To activate this endpoint, you need to start Marathon with <code class="highlighter-rouge">--event_subscriber http_callback</code>.</p>

<h5 id="parameters-9">Parameters</h5>

<table class="table table-bordered">
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>callbackUrl</code></td>
      <td><code>string</code></td>
      <td>URL passed when the event subscription was created. <strong>Required.</strong></td>
    </tr>
  </tbody>
</table>

<h5 id="example-24">Example</h5>

<p><strong>Request:</strong></p>

<div class="language-http highlighter-rouge"><pre class="highlight"><code><span class="nf">DELETE</span> <span class="nn">/v2/eventSubscriptions?callbackUrl=http://localhost:9292/callback</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Accept-Encoding</span><span class="p">:</span> <span class="s">gzip, deflate, compress</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">0</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json; charset=utf-8</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">localhost:8080</span>
<span class="na">User-Agent</span><span class="p">:</span> <span class="s">HTTPie/0.7.2</span>
</code></pre>
</div>

<p><strong>Response:</strong></p>

<div class="language-http highlighter-rouge"><pre class="highlight"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Server</span><span class="p">:</span> <span class="s">Jetty(8.y.z-SNAPSHOT)</span>
<span class="na">Transfer-Encoding</span><span class="p">:</span> <span class="s">chunked</span>

<span class="p">{</span><span class="w">
    </span><span class="nt">"callbackUrl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://localhost:9292/callback"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"clientIp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0:0:0:0:0:0:0:1"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"eventType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"unsubscribe_event"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<h3 id="queue">Queue</h3>

<p><span class="label label-default">v0.7.0</span></p>

<h4 id="get-v2queue">GET <code class="highlighter-rouge">/v2/queue</code></h4>

<p>Show content of the launch queue.</p>

<h5 id="example-25">Example</h5>

<div class="language-http highlighter-rouge"><pre class="highlight"><code><span class="nf">GET</span> <span class="nn">/v2/queue</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">*/*</span>
<span class="na">Accept-Encoding</span><span class="p">:</span> <span class="s">gzip, deflate</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">localhost:8080</span>
<span class="na">User-Agent</span><span class="p">:</span> <span class="s">HTTPie/0.8.0</span>
</code></pre>
</div>

<div class="language-http highlighter-rouge"><pre class="highlight"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Server</span><span class="p">:</span> <span class="s">Jetty(8.y.z-SNAPSHOT)</span>
<span class="na">Transfer-Encoding</span><span class="p">:</span> <span class="s">chunked</span>

<span class="p">{</span><span class="w">
    </span><span class="nt">"queue"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nt">"count"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
            </span><span class="nt">"delay"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
              </span><span class="nt">"overdue"</span><span class="p">:</span><span class="w"> </span><span class="s2">"true"</span><span class="p">,</span><span class="w">
              </span><span class="nt">"timeLeftSeconds"</span><span class="p">:</span><span class="w"> </span><span class="mi">784</span><span class="w">
            </span><span class="p">}</span><span class="w">
            </span><span class="s2">"app"</span><span class="w"> </span><span class="err">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nt">"cmd"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"tail -f /dev/null"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"backoffSeconds"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
                </span><span class="nt">"healthChecks"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
                </span><span class="nt">"storeUrls"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
                </span><span class="nt">"constraints"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
                </span><span class="nt">"env"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w">
                </span><span class="nt">"cpus"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mf">0.1</span><span class="p">,</span><span class="w">
                </span><span class="nt">"labels"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w">
                </span><span class="nt">"instances"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
                </span><span class="nt">"ports"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                   </span><span class="mi">10000</span><span class="w">
                </span><span class="p">],</span><span class="w">
                </span><span class="nt">"requirePorts"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
                </span><span class="nt">"uris"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
                </span><span class="nt">"container"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
                </span><span class="nt">"backoffFactor"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mf">1.15</span><span class="p">,</span><span class="w">
                </span><span class="nt">"args"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
                </span><span class="nt">"version"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-02-09T10:49:59.831Z"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"maxLaunchDelaySeconds"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">3600</span><span class="p">,</span><span class="w">
                </span><span class="nt">"upgradeStrategy"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                   </span><span class="nt">"minimumHealthCapacity"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
                   </span><span class="nt">"maximumOverCapacity"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="nt">"dependencies"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
                </span><span class="nt">"mem"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">16</span><span class="p">,</span><span class="w">
                </span><span class="nt">"id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"/foo"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"disk"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
                </span><span class="nt">"executor"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
                </span><span class="nt">"user"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<h4 id="delete-v2queueappiddelay">DELETE <code class="highlighter-rouge">/v2/queue/{appId}/delay</code></h4>

<p>The application-specific task launch delay can be reset by calling this endpoint.</p>

<h5 id="example-26">Example</h5>

<div class="language-http highlighter-rouge"><pre class="highlight"><code><span class="nf">DELETE</span> <span class="nn">/v2/queue/myapp/delay</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">*/*</span>
<span class="na">Accept-Encoding</span><span class="p">:</span> <span class="s">gzip, deflate</span>
<span class="na">Connection</span><span class="p">:</span> <span class="s">keep-alive</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">0</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">localhost:8080</span>
<span class="na">User-Agent</span><span class="p">:</span> <span class="s">HTTPie/0.9.2</span>
</code></pre>
</div>

<div class="language-http highlighter-rouge"><pre class="highlight"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">204</span> <span class="ne">No Content</span>
<span class="na">Cache-Control</span><span class="p">:</span> <span class="s">no-cache, no-store, must-revalidate</span>
<span class="na">Expires</span><span class="p">:</span> <span class="s">0</span>
<span class="na">Pragma</span><span class="p">:</span> <span class="s">no-cache</span>
<span class="na">Server</span><span class="p">:</span> <span class="s">Jetty(8.1.15.v20140411)</span>
</code></pre>
</div>

<h3 id="server-info">Server Info</h3>

<p><span class="label label-default">v0.7.0</span></p>

<h4 id="get-v2info">GET <code class="highlighter-rouge">/v2/info</code></h4>

<p>Get info about the Marathon instance.</p>

<p><strong>Request:</strong></p>

<div class="language-http highlighter-rouge"><pre class="highlight"><code><span class="nf">GET</span> <span class="nn">/v2/info</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Accept-Encoding</span><span class="p">:</span> <span class="s">gzip, deflate, compress</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json; charset=utf-8</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">localhost:8080</span>
<span class="na">User-Agent</span><span class="p">:</span> <span class="s">HTTPie/0.7.2</span>
</code></pre>
</div>

<p><strong>Response:</strong></p>

<div class="language-http highlighter-rouge"><pre class="highlight"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">872</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Server</span><span class="p">:</span> <span class="s">Jetty(8.y.z-SNAPSHOT)</span>

<span class="p">{</span><span class="w">
    </span><span class="nt">"frameworkId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"20140730-222531-1863654316-5050-10422-0000"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"leader"</span><span class="p">:</span><span class="w"> </span><span class="s2">"127.0.0.1:8080"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"http_config"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"assets_path"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nt">"http_port"</span><span class="p">:</span><span class="w"> </span><span class="mi">8080</span><span class="p">,</span><span class="w">
        </span><span class="nt">"https_port"</span><span class="p">:</span><span class="w"> </span><span class="mi">8443</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"event_subscriber"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http_callback"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"http_endpoints"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="s2">"localhost:9999/events"</span><span class="w">
        </span><span class="p">]</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"marathon_config"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"checkpoint"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nt">"executor"</span><span class="p">:</span><span class="w"> </span><span class="s2">"//cmd"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"failover_timeout"</span><span class="p">:</span><span class="w"> </span><span class="mi">604800</span><span class="p">,</span><span class="w">
        </span><span class="nt">"ha"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nt">"hostname"</span><span class="p">:</span><span class="w"> </span><span class="s2">"127.0.0.1"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"local_port_max"</span><span class="p">:</span><span class="w"> </span><span class="mi">49151</span><span class="p">,</span><span class="w">
        </span><span class="nt">"local_port_min"</span><span class="p">:</span><span class="w"> </span><span class="mi">32767</span><span class="p">,</span><span class="w">
        </span><span class="nt">"master"</span><span class="p">:</span><span class="w"> </span><span class="s2">"zk://localhost:2181/mesos"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"mesos_leader_ui_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://mesos.vm:5050"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"mesos_role"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nt">"mesos_user"</span><span class="p">:</span><span class="w"> </span><span class="s2">"root"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"reconciliation_initial_delay"</span><span class="p">:</span><span class="w"> </span><span class="mi">30000</span><span class="p">,</span><span class="w">
        </span><span class="nt">"reconciliation_interval"</span><span class="p">:</span><span class="w"> </span><span class="mi">30000</span><span class="p">,</span><span class="w">
        </span><span class="nt">"task_launch_timeout"</span><span class="p">:</span><span class="w"> </span><span class="mi">60000</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"marathon"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"version"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.7.0-SNAPSHOT"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"zookeeper_config"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"zk"</span><span class="p">:</span><span class="w"> </span><span class="s2">"zk://localhost:2181/marathon"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"zk_timeout"</span><span class="p">:</span><span class="w"> </span><span class="mi">10000</span><span class="p">,</span><span class="w">
        </span><span class="nt">"zk_session_timeout"</span><span class="p">:</span><span class="w"> </span><span class="mi">1800000</span><span class="p">,</span><span class="w">
        </span><span class="nt">"zk_max_version"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<h4 id="get-v2leader">GET <code class="highlighter-rouge">/v2/leader</code></h4>

<p>Returns the current leader.
If no leader exists, Marathon will respond with a 404 error.</p>

<p><strong>Request:</strong></p>

<div class="language-http highlighter-rouge"><pre class="highlight"><code><span class="nf">GET</span> <span class="nn">/v2/leader</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Accept-Encoding</span><span class="p">:</span> <span class="s">gzip, deflate, compress</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">localhost:8080</span>
<span class="na">User-Agent</span><span class="p">:</span> <span class="s">HTTPie/0.7.2</span>
</code></pre>
</div>

<p><strong>Response:</strong></p>

<div class="language-http highlighter-rouge"><pre class="highlight"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">872</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Server</span><span class="p">:</span> <span class="s">Jetty(8.y.z-SNAPSHOT)</span>

<span class="p">{</span><span class="w">
    </span><span class="nt">"leader"</span><span class="p">:</span><span class="w"> </span><span class="s2">"127.0.0.1:8080"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<h4 id="delete-v2leader">DELETE <code class="highlighter-rouge">/v2/leader</code></h4>

<p><span class="label label-default">v0.7.7</span></p>

<p>Causes the current leader to abdicate, triggering a new election.
If no leader exists, Marathon will respond with a 404 error.</p>

<p><strong>Request:</strong></p>

<div class="language-http highlighter-rouge"><pre class="highlight"><code><span class="nf">DELETE</span> <span class="nn">/v2/leader</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Accept-Encoding</span><span class="p">:</span> <span class="s">gzip, deflate, compress</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">localhost:8080</span>
<span class="na">User-Agent</span><span class="p">:</span> <span class="s">HTTPie/0.7.2</span>
</code></pre>
</div>

<p><strong>Response:</strong></p>

<div class="language-http highlighter-rouge"><pre class="highlight"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">872</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Server</span><span class="p">:</span> <span class="s">Jetty(8.y.z-SNAPSHOT)</span>

<span class="p">{</span><span class="w">
    </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Leadership abdicated"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<h3 id="miscellaneous">Miscellaneous</h3>

<p><strong>Request:</strong></p>

<div class="language-http highlighter-rouge"><pre class="highlight"><code></code></pre>
</div>

<p><strong>Response:</strong></p>

<div class="language-http highlighter-rouge"><pre class="highlight"><code></code></pre>
</div>

<h4 id="get-ping">GET <code class="highlighter-rouge">/ping</code></h4>

<p><strong>Request:</strong></p>

<div class="language-http highlighter-rouge"><pre class="highlight"><code><span class="nf">GET</span> <span class="nn">/ping</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">*/*</span>
<span class="na">Accept-Encoding</span><span class="p">:</span> <span class="s">gzip, deflate</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">mesos.vm:8080</span>
<span class="na">User-Agent</span><span class="p">:</span> <span class="s">HTTPie/0.8.0</span>
</code></pre>
</div>

<p><strong>Response:</strong></p>

<div class="language-http highlighter-rouge"><pre class="highlight"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Access-Control-Allow-Credentials</span><span class="p">:</span> <span class="s">true</span>
<span class="na">Cache-Control</span><span class="p">:</span> <span class="s">must-revalidate,no-cache,no-store</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">5</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">text/plain;charset=ISO-8859-1</span>
<span class="na">Server</span><span class="p">:</span> <span class="s">Jetty(8.y.z-SNAPSHOT)</span>

pong
</code></pre>
</div>

<h4 id="get-logging">GET <code class="highlighter-rouge">/logging</code></h4>

<p><strong>Request:</strong></p>

<div class="language-http highlighter-rouge"><pre class="highlight"><code><span class="nf">GET</span> <span class="nn">/logging</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">*/*</span>
<span class="na">Accept-Encoding</span><span class="p">:</span> <span class="s">gzip, deflate</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">mesos.vm:8080</span>
<span class="na">User-Agent</span><span class="p">:</span> <span class="s">HTTPie/0.8.0</span>
</code></pre>
</div>

<p><strong>Response:</strong></p>

<p><em>HTML-only endpoint</em></p>

<h4 id="get-help">GET <code class="highlighter-rouge">/help</code></h4>

<p><strong>Request:</strong></p>

<div class="language-http highlighter-rouge"><pre class="highlight"><code><span class="nf">GET</span> <span class="nn">/help</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">*/*</span>
<span class="na">Accept-Encoding</span><span class="p">:</span> <span class="s">gzip, deflate</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">mesos.vm:8080</span>
<span class="na">User-Agent</span><span class="p">:</span> <span class="s">HTTPie/0.8.0</span>
</code></pre>
</div>

<p><strong>Response:</strong></p>

<p><em>HTML-only endpoint</em></p>

<h4 id="get-metrics">GET <code class="highlighter-rouge">/metrics</code></h4>

<p><strong>Request:</strong></p>

<div class="language-http highlighter-rouge"><pre class="highlight"><code><span class="nf">GET</span> <span class="nn">/metrics</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">*/*</span>
<span class="na">Accept-Encoding</span><span class="p">:</span> <span class="s">gzip, deflate</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">mesos.vm:8080</span>
<span class="na">User-Agent</span><span class="p">:</span> <span class="s">HTTPie/0.8.0</span>
</code></pre>
</div>

<p><strong>Response:</strong></p>

<div class="language-http highlighter-rouge"><pre class="highlight"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Cache-Control</span><span class="p">:</span> <span class="s">must-revalidate,no-cache,no-store</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Server</span><span class="p">:</span> <span class="s">Jetty(8.y.z-SNAPSHOT)</span>
<span class="na">Transfer-Encoding</span><span class="p">:</span> <span class="s">chunked</span>

<span class="p">{</span><span class="w">
    </span><span class="nt">"counters"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="err">...</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"gauges"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="err">...</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"histograms"</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w">
    </span><span class="nt">"meters"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="err">...</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"timers"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="err">...</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"version"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3.0.0"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

    </div>
</div>

          <footer>
            <p class="text-muted">
              &copy; 2018 <a class="text-muted" href="http://mesosphere.com">Mesosphere, Inc.</a>
            </p>
          </footer>
        </div>
      </div>
    </div>
    <script src="//cdn.jsdelivr.net/jquery/2.1.1/jquery.min.js"></script>
    <script src="//cdn.jsdelivr.net/bootstrap/3.2.0/js/bootstrap.min.js"></script>
    <script src="//cdn.jsdelivr.net/anchorjs/3.2.2/anchor.min.js"></script>
    <script>
        (function () {
            'use strict';
            anchors.options.placement = 'right';
            anchors.add('h2, h3, h4, h5, h6');
        })();
    </script>
  </body>
</html>